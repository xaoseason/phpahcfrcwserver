(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44ca9fa8"],{"8b1a1":function(t,e,s){},"8bbd":function(t,e,s){"use strict";s.r(e);s("14d9");var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"personal_top"},[e("div",{staticClass:"top_content"},[e("div",{staticClass:"avatar_box"},[e("img",{attrs:{src:t.basic.photo_img_src}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(t.basic.fullname))]),e("div",{staticClass:"some"},[e("div",{staticClass:"some_item"},[t._v(t._s(t.basic.sex_text))]),e("div",{staticClass:"some_item"},[t._v(t._s(t.basic.age)+"岁")]),e("div",{staticClass:"some_item"},[t._v(t._s(t.basic.education_text))]),e("div",{staticClass:"some_item"},[t._v(t._s(t.basic.experience_text))]),e("div",{staticClass:"clear"})]),e("div",{staticClass:"contact"},[""!==t.contact.mobile?e("div",{staticClass:"contact_item phone"},[t._v(t._s(t.contact.mobile))]):t._e(),""!==t.contact.weixin?e("div",{staticClass:"contact_item wx"},[t._v(t._s(t.contact.weixin))]):t._e(),e("div",{staticClass:"clear"})])]),e("div",{staticClass:"top_block",on:{click:function(e){return t.$router.push("/personal/job/jobapply")}}},[e("div",{staticClass:"tx1"},[t._v(t._s(t.resumeTotal.job_apply.number))]),e("div",{staticClass:"tx2"},[t._v("我的投递")])]),e("div",{staticClass:"top_block",on:{click:function(e){return t.$router.push("/personal/job/interview")}}},[e("div",{staticClass:"tx1"},[t._v(t._s(t.resumeTotal.interview.number))]),e("div",{staticClass:"tx2"},[t._v("面试邀请")])]),e("div",{staticClass:"top_block",on:{click:function(e){return t.$router.push("/personal/job/attention_me")}}},[e("div",{staticClass:"tx1"},[t._v(t._s(t.resumeTotal.attention_me.number))]),e("div",{staticClass:"tx2"},[t._v("对我感兴趣")])]),e("div",{staticClass:"top_block",on:{click:function(e){return t.$router.push("/personal/job/viewjob")}}},[e("div",{staticClass:"tx1"},[t._v(t._s(t.resumeTotal.view_job.number))]),e("div",{staticClass:"tx2"},[t._v("我的足迹")])]),e("div",{staticClass:"clear"})])]),t.basic.complete_percent<t.$store.state.config.apply_job_min_percent?e("div",{staticClass:"integrity_tip"},[t._v("您的简历完整度较低，严重影响求职质量，建议立即完善简历信息 "),e("el-button",{staticClass:"r_btn",attrs:{type:"warning",size:"small"},on:{click:function(e){return t.$router.push("/personal/resume")}}},[t._v("去完善")])],1):t._e(),e("div",{staticClass:"box_1"},[e("div",{staticClass:"b_left"},[e("div",{staticClass:"tx1"},[t._v("我的简历")]),e("el-switch",{staticClass:"tx_switch",attrs:{"active-color":"#409eff","inactive-color":"#bec3d1","inactive-text":"公开状态"},on:{change:t.handleStatus},model:{value:t.resumePublic,callback:function(e){t.resumePublic=e},expression:"resumePublic"}}),0==t.basic.audit?e("div",{staticClass:"examine wait"}):t._e(),1==t.basic.audit?e("div",{staticClass:"examine pass"}):t._e(),2==t.basic.audit?e("div",{staticClass:"examine fail"}):t._e(),e("div",{staticClass:"speed"},[e("el-progress",{attrs:{type:"circle","show-text":!1,width:112,percentage:t.basic.complete_percent}}),e("div",{staticClass:"p_txt"},[t._v(t._s(t.basic.complete_percent)),e("span",[t._v("%")])]),e("div",{staticClass:"txt"},[t._v("简历完整度")])],1),t.basic.complete_percent<t.$store.state.config.apply_job_min_percent?e("div",{staticClass:"tx2"},[t._v("完整度太低严重影响求职质量，"),e("router-link",{attrs:{to:"/personal/resume"}},[t._v("去完善！")])],1):t._e()],1),e("div",{staticClass:"b_right"},[e("el-dropdown",{staticClass:"intention-top",on:{command:t.changeIntention}},[e("div",{staticClass:"drop_bar substring"},[t._v(t._s(t.currentIntention.category_text))]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.intentionList,(function(s,a){return e("el-dropdown-item",{key:a,attrs:{command:s}},[t._v(t._s(s.category_text))])})),1)],1),e("div",{staticClass:"tx1 substring"},[t._v("工作地区:  "+t._s(t.currentIntention.district_text))]),e("div",{staticClass:"tx1 substring"},[t._v("期望薪资:  "+t._s(t.currentIntention.wage_text)+"/月")]),e("div",{staticClass:"tx1 substring"},[t._v("期望行业:  "+t._s(t.currentIntention.trade_text))]),e("div",{staticClass:"tx1 substring"},[t._v("求职状态:  "+t._s(t.basic.current_text))])],1),e("div",{staticClass:"b_btn"},[e("div",{staticClass:"tx1"},[t._v("最近更新："+t._s(t._f("timeFilter")(t.basic.refreshtime)))]),e("div",{staticClass:"b_group"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/personal/resume")}}},[t._v("修改简历")]),e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handlerPreview}},[t._v("预览简历")]),e("el-button",{attrs:{type:"primary"},on:{click:t.refreshResume}},[t._v("刷新简历")])],1)]),e("div",{staticClass:"clear"})]),t.ad_dataset_banner.items.length>0?e("div",{staticClass:"box_2"},[e("el-carousel",{attrs:{height:"70px"}},t._l(t.ad_dataset_banner.items,(function(s,a){return e("el-carousel-item",{key:a},[e("img",{staticClass:"img",attrs:{src:s.image_src},on:{click:function(e){return t.handleClickBanner(s)}}})])})),1)],1):t._e(),e("div",{staticClass:"box_3"},[e("div",{staticClass:"b_title"},[t._v("优选服务")]),e("div",{staticClass:"b_group"},[e("a",{staticClass:"b_item",attrs:{href:"javascript:;"},on:{click:function(e){return t.$router.push("/personal/fav/subscribe")}}},[e("p",{staticClass:"b_ico c3"}),e("p",{staticClass:"tx1"},[t._v("职位订阅")]),e("p",{staticClass:"tx2"},[t._v("好职位不能错过，精准智能匹配")])]),e("a",{staticClass:"b_item",attrs:{href:"javascript:;"},on:{click:t.handlerEntrust}},[e("p",{staticClass:"b_ico c4"}),e("p",{staticClass:"tx1"},[t._v("委托投递")]),e("p",{staticClass:"tx2"},[t._v("无需登录，系统精准投递")])]),e("a",{staticClass:"b_item",attrs:{href:"javascript:;"},on:{click:function(e){return t.$router.push("/personal/privacy/setPrivacy")}}},[e("p",{staticClass:"b_ico c5"}),e("p",{staticClass:"tx1"},[t._v("隐私设置")]),e("p",{staticClass:"tx2"},[t._v("贴心隐私保护，拒绝被打扰")])]),e("div",{staticClass:"clear"})])]),e("div",{staticClass:"box_4"},[e("div",{staticClass:"b_title"},[t._v("职位推荐")]),e("div",{staticClass:"b_sw"},[t._l(t.intentionList,(function(s,a){return e("div",{key:a,staticClass:"sw_item",class:s.id==t.recommendIntentionId?"active":"",on:{click:function(e){return t.changeRecommendIntention(s)}}},[t._v(t._s(s.category_text))])})),e("div",{staticClass:"clear"})],2),t.recommendList.length>0?e("div",{staticClass:"b_group"},[t._l(t.recommendList,(function(s,a){return e("div",{key:a,staticClass:"b_item",on:{click:function(e){return t.handlerRecommendLink(s)}}},[e("div",{staticClass:"b_name substring"},[t._v(t._s(s.jobname))]),e("div",{staticClass:"b_city substring"},[t._v(t._s(s.district_text))]),e("div",{staticClass:"b_wage substring"},[t._v(t._s(s.wage_text)+"/月")])])})),e("div",{staticClass:"clear"}),e("div",{staticClass:"b_more"},[t._v("想看更多推荐职位？"),e("a",{attrs:{target:"_blank",href:t.joblistUrl}},[t._v("去查看>>")])])],2):t._e(),0==t.recommendList.length&&!0===t.showRecommendEmpty?e("div",{staticClass:"b_empty"},[t._v("没有数据了")]):t._e()]),e("el-dialog",{attrs:{title:"委托投递",visible:t.showEntrust,width:"400px","close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.showEntrust=e},opened:t.handlerEntrustInit}},[e("Entrust",{ref:"entrust",on:{closeEntrust:function(e){t.showEntrust=!1}}})],1)],1)},i=[],n=function(){var t=this,e=t._self._c;return e("el-form",{ref:"form",attrs:{"label-width":"100px"}},[!1===t.hasEntrust?e("el-form-item",{attrs:{label:"委托天数"}},[e("el-select",{attrs:{placeholder:"请选择委托天数"},model:{value:t.days,callback:function(e){t.days=e},expression:"days"}},[e("el-option",{attrs:{label:"3天",value:3}}),e("el-option",{attrs:{label:"7天",value:7}}),e("el-option",{attrs:{label:"15天",value:15}})],1)],1):t._e(),!0===t.hasEntrust?e("el-form-item",{attrs:{label:"剩余委托天数"}},[e("span",{staticStyle:{color:"#e6a23c"}},[t._v(t._s(t.showDays)+"天")])]):t._e(),e("el-form-item",[!1===t.hasEntrust?e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定委托")]):t._e(),!0===t.hasEntrust?e("el-button",{attrs:{type:"primary"},on:{click:t.onCancel}},[t._v("取消委托")]):t._e()],1)],1)},c=[],r=s("751a"),o=s("d722"),l={props:[],data(){return{hasEntrust:!1,days:3,showDays:0}},mounted(){},methods:{initCB(){this.fetchData()},fetchData(){r["a"].get(o["a"].personal_entrust).then(t=>{null===t.data?this.hasEntrust=!1:(this.hasEntrust=!0,this.showDays=t.data.days)})},onSubmit(){r["a"].post(o["a"].personal_entrust_save,{days:this.days}).then(t=>{this.$message({type:"success",message:t.message}),this.$emit("closeEntrust")})},onCancel(){r["a"].post(o["a"].personal_entrust_cancel).then(t=>{this.$message({type:"success",message:t.message}),this.hasEntrust=!1})}}},_=l,d=s("2877"),m=Object(d["a"])(_,n,c,!1,null,"dc283f02",null),u=m.exports,h=s("ed08"),p=s("e16f"),v={name:"Index",components:{Entrust:u},filters:{timeFilter(t){return Object(h["c"])(t,"{y}-{m}-{d} {h}:{i}",!0)}},data(){return{resumeTotal:{job_apply:0,interview:0,attention_me:0,view_job:0},showEntrust:!1,showRecommendEmpty:!1,showLowPop:!1,showRefreshPop:!1,resumePublic:!0,currentIntention:{},recommendIntentionId:0,recommendList:[],previewUrl:"",joblistUrl:"",ad_dataset_banner:{alias:"QS_member_personal_banner",items:[]},contact:{},intentionList:[]}},computed:{basic(){return this.$store.state.resume.basic}},watch:{basic:{deep:!0,handler:function(){let t=this.$store.state.resume.basic,e=new Date,s=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),a=localStorage.getItem("web_resume_complete_notice_date");if(t.complete_percent<this.$store.state.config.apply_job_min_percent&&"eq"!=Object(h["b"])(a,s)&&(this.showLowPop=!0,localStorage.setItem("web_resume_complete_notice_date",s)),!1===this.showLowPop){let t=localStorage.getItem("web_resume_refresh_notice_date");"eq"!=Object(h["b"])(t,s)&&(this.showRefreshPop=!0,localStorage.setItem("web_resume_refresh_notice_date",s))}}}},created(){this.initInfo()},methods:{handleClickBanner(t){""!==t.link_url&&window.open(t.link_url)},handlerJumpService(t,e){return"stick"==e&&1===this.basic.stick||"tag"==e&&""!==this.basic.service_tag?(this.$message.error("该简历已经在推广状态，不能重复推广"),!1):void this.$router.push(t)},fetchAd(){r["a"].post(o["a"].ad_list,{alias:["QS_member_personal_banner@web"]}).then(t=>{this.ad_dataset_banner.items=t.data.items["QS_member_personal_banner@web"]}).catch(()=>{})},handleStatus(t){t?this.handleResumeStatus(t):this.$confirm("简历关闭后企业将无法搜索到您的简历，是否设为关闭?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.handleResumeStatus(t)}).catch(()=>{this.resumePublic=!t})},handleResumeStatus(t){r["a"].post(o["a"].resume_privates_set_display,{display:t?1:0}).then(e=>{200===parseInt(e.code)?this.$message({message:e.message,type:"success"}):(this.$message.error(e.message),this.resumePublic=!t)}).catch(e=>{this.$message.error(e),this.resumePublic=!t})},refreshResume(){this.showRefreshPop=!1,r["a"].post(o["a"].resume_refresh).then(t=>{200===parseInt(t.code)?(this.basic.refreshtime=t.data,this.$message({type:"success",message:t.message})):this.$message.error(t.message)}).catch(t=>{console.log(t)})},initInfo(){r["a"].get(o["a"].editResume).then(t=>null===t.data?(Object(p["a"])({code:50007,message:"请先添加一份简历"}),!1):0==t.data.intention_list.length?(Object(p["a"])({code:50005,message:"请先完善简历求职意向"}),!1):(this.fetchAd(),this.contact=t.data.contact,this.intentionList=t.data.intention_list,this.$store.dispatch("setBasicInfo",t.data.basic),this.$store.dispatch("setResumeContact",t.data.contact),this.$store.dispatch("setIntentionList",t.data.intention_list),this.resumePublic=1==t.data.basic.is_display,this.currentIntention=t.data.intention_list[0],this.recommendIntentionId=t.data.intention_list[0].id,this.previewUrl=t.data.preview_url,this.changeRecommendIntention(this.currentIntention),void this.fetchResumeTotal())).catch(t=>{console.log(t)})},fetchResumeTotal(){r["a"].post(o["a"].personal_index).then(t=>{this.resumeTotal={job_apply:t.data.manage.job_apply,interview:t.data.manage.interview,attention_me:t.data.manage.attention_me,view_job:t.data.manage.view}})},changeIntention(t){this.currentIntention=t},handlerPreview(){window.open(this.previewUrl)},changeRecommendIntention(t){this.recommendIntentionId=t.id,this.showRecommendEmpty=!1,this.recommendList=[],r["a"].get(o["a"].recommend_joblist,{id:t.id,page:1,pagesize:16}).then(t=>{this.recommendList=[...t.data.items],this.joblistUrl=t.data.joblist_link_url_web,0==this.recommendList.length&&(this.showRecommendEmpty=!0)}).catch(()=>{})},handlerRecommendLink(t){window.open(t.job_link_url_web)},handlerAdClick(t){Object(h["a"])(t)},handlerEntrust(){this.showEntrust=!0},handlerEntrustInit(){this.$refs.entrust.initCB()}}},b=v,C=(s("f943"),Object(d["a"])(b,a,i,!1,null,"59eb5e9e",null));e["default"]=C.exports},f943:function(t,e,s){"use strict";s("8b1a1")}}]);