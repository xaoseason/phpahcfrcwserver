(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91daeed4"],{"2e72":function(t,a,e){},6943:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-steps",{attrs:{active:3,"align-center":""}},[e("el-step",{attrs:{title:"基本信息"}}),e("el-step",{attrs:{title:"经历信息"}}),e("el-step",{attrs:{title:"证件照片"}})],1),e("br"),e("br"),e("br"),e("div",[t._m(0),e("br"),e("br"),e("br"),e("el-form",{attrs:{"label-width":"130px"}},[1==t.data.switch_photo?e("el-form-item",{attrs:{label:"一寸电子照"}},[e("div",{staticClass:"flex"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:3,"show-file-list":!1,multiple:!1,"auto-upload":!1,"on-change":t.UploadFormListOnChange1}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 仅支持上传图片格式文件，且不超过5M    ")])],1),e("el-image",{staticClass:"echo",attrs:{src:t.preview1}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1)]):t._e(),1==t.data.switch_id_card?e("el-form-item",{attrs:{label:"身份证正面"}},[e("div",{staticClass:"flex"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:3,"show-file-list":!1,multiple:!1,"auto-upload":!1,"on-change":t.UploadFormListOnChange2}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 仅支持上传图片格式文件，且不超过5M    ")])],1),e("el-image",{staticClass:"echo",attrs:{src:t.preview2}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1)]):t._e(),1==t.data.switch_id_card?e("el-form-item",{attrs:{label:"身份证反面"}},[e("div",{staticClass:"flex"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:3,"show-file-list":!1,multiple:!1,"auto-upload":!1,"on-change":t.UploadFormListOnChange3}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 仅支持上传图片格式文件，且不超过5M    ")])],1),e("el-image",{staticClass:"echo",attrs:{src:t.preview3}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1)]):t._e(),1==t.data.drivers_license?e("el-form-item",{attrs:{label:"驾驶证"}},[e("div",{staticClass:"flex"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:3,"show-file-list":!1,multiple:!1,"auto-upload":!1,"on-change":t.UploadFormListOnChange4}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 仅支持上传图片格式文件，且不超过5M    ")])],1),e("el-image",{staticClass:"echo",attrs:{src:t.preview4}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1)]):t._e(),1==t.data.switch_diploma?e("el-form-item",{attrs:{label:"学士学位证书"}},[e("div",{staticClass:"flex"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:3,"show-file-list":!1,multiple:!1,"auto-upload":!1,"on-change":t.UploadFormListOnChange5}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 仅支持上传图片格式文件，且不超过5M    ")])],1),e("el-image",{staticClass:"echo",attrs:{src:t.preview5}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1)]):t._e(),1==t.data.switch_academic_certificate?e("el-form-item",{attrs:{label:"学历证书"}},[e("div",{staticClass:"flex"},[e("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:3,"show-file-list":!1,multiple:!1,"auto-upload":!1,"on-change":t.UploadFormListOnChange6}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 仅支持上传图片格式文件，且不超过5M    ")])],1),e("el-image",{staticClass:"echo",attrs:{src:t.preview6}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1)]):t._e()],1)],1),e("div",{staticClass:"dialog-footer"},[e("el-button",{attrs:{size:"small"},on:{click:t.back}},[t._v("上一步")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.next}},[t._v("立即报名")])],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[e("b",[t._v("证件照片")])])}],o=e("751a"),r=e("d722"),l={data(){return{data:{},preview1:"",preview2:"",preview3:"",preview4:"",preview5:"",preview6:"",subForm:{exam_post_id:"",realname:"",mobile:"",email:"",sos_name:"",sos_mobile:"",sex:"",height:"",weight:"",idcard:"",residence:"",marriage:"",nation:"",major1:"",major2:"",vision:"",education:"",school:"",custom_field_1:"",custom_field_2:"",custom_field_3:"",birth:"",hjd:"",photo:"",title:"",idcard_img_just:"",idcard_img_back:"",driver_certificate_img:"",degree_img:"",academic_certificate_img:"",fresh_graduates_img:""},MyInfo:{}}},created(){this.getid(),this.switch(),this.getMyInfo()},methods:{UploadFormListOnChange1(t){if("image"==t.raw.type.slice(0,5)){const a=new FileReader;a.readAsDataURL(t.raw),a.onload=t=>{this.preview1=t.target.result};const e=new FormData;e.append("file",t.raw),o["a"].post(r["a"].uploadimg,e).then(t=>{200===parseInt(t.code)&&(this.subForm.photo=t.data.path)}).catch(t=>{console.log(t)})}else this.$message({message:"仅支持图片格式上传",type:"warning"})},UploadFormListOnChange2(t){if("image"==t.raw.type.slice(0,5)){const a=new FileReader;a.readAsDataURL(t.raw),a.onload=t=>{this.preview2=t.target.result};const e=new FormData;e.append("file",t.raw),o["a"].post(r["a"].uploadimg,e).then(t=>{200===parseInt(t.code)&&(this.subForm.idcard_img_just=t.data.path)}).catch(t=>{console.log(t)})}else this.$message({message:"仅支持图片格式上传",type:"warning"})},UploadFormListOnChange3(t){if("image"==t.raw.type.slice(0,5)){const a=new FileReader;a.readAsDataURL(t.raw),a.onload=t=>{this.preview3=t.target.result};const e=new FormData;e.append("file",t.raw),o["a"].post(r["a"].uploadimg,e).then(t=>{200===parseInt(t.code)&&(this.subForm.idcard_img_back=t.data.path)}).catch(t=>{console.log(t)})}else this.$message({message:"仅支持图片格式上传",type:"warning"})},UploadFormListOnChange4(t){if("image"==t.raw.type.slice(0,5)){const a=new FileReader;a.readAsDataURL(t.raw),a.onload=t=>{this.preview4=t.target.result};const e=new FormData;e.append("file",t.raw),o["a"].post(r["a"].uploadimg,e).then(t=>{200===parseInt(t.code)&&(this.subForm.driver_certificate_img=t.data.path)}).catch(t=>{console.log(t)})}else this.$message({message:"仅支持图片格式上传",type:"warning"})},UploadFormListOnChange5(t){if("image"==t.raw.type.slice(0,5)){const a=new FileReader;a.readAsDataURL(t.raw),a.onload=t=>{this.preview5=t.target.result};const e=new FormData;e.append("file",t.raw),o["a"].post(r["a"].uploadimg,e).then(t=>{200===parseInt(t.code)&&(this.subForm.degree_img=t.data.path)}).catch(t=>{console.log(t)})}else this.$message({message:"仅支持图片格式上传",type:"warning"})},UploadFormListOnChange6(t){if("image"==t.raw.type.slice(0,5)){const a=new FileReader;a.readAsDataURL(t.raw),a.onload=t=>{this.preview6=t.target.result};const e=new FormData;e.append("file",t.raw),o["a"].post(r["a"].uploadimg,e).then(t=>{200===parseInt(t.code)&&(this.subForm.academic_certificate_img=t.data.path)}).catch(t=>{console.log(t)})}else this.$message({message:"仅支持图片格式上传",type:"warning"})},back(){this.$router.go(-1)},next(){this.subForm.exam_sign_id=this.exam_sign_id,o["a"].post(r["a"].sign,this.subForm).then(t=>{200===parseInt(t.code)&&(this.$router.push({path:"/personal/test/applay"}),this.$message({message:"报名成功",type:"success"}))}).catch(t=>{console.log(t)})},switch(){o["a"].post(r["a"].project_details,{exam_project_id:this.exam_project_id}).then(t=>{200===parseInt(t.code)&&(this.data=t.data)}).catch(t=>{console.log(t)})},getid(){this.exam_project_id=this.$route.query.exam_project_id,this.exam_sign_id=this.$route.query.exam_sign_id,this.subForm=JSON.parse(decodeURIComponent(this.$route.query.row))},getMyInfo(){o["a"].get(r["a"].get_my_info).then(t=>{200===parseInt(t.code)&&(this.MyInfo=t.data,this.MyInfo.realname=t.data.basic.realname,this.MyInfo.mobile=t.data.contact.mobile,this.MyInfo.email=t.data.contact.email,this.MyInfo.idcard=t.data.basic.idcard,this.MyInfo.birthday=t.data.basic.idcard.substring(6,4)+"-"+t.data.basic.idcard.substring(10,2)+"-"+t.data.basic.idcard.substring(12,2),this.MyInfo.sex=t.data.basic.sex,this.MyInfo.nation=t.data.basic.nation,this.MyInfo.height=t.data.basic.height,this.MyInfo.weight=t.data.basic.weight,this.MyInfo.vision=t.data.basic.vision,this.MyInfo.major2=t.data.basic.major,this.MyInfo.custom_field_1=t.data.basic.custom_field_1,this.MyInfo.custom_field_2=t.data.basic.custom_field_2,this.MyInfo.custom_field_3=t.data.basic.custom_field_3,this.MyInfo.residence=t.data.basic.residence,this.MyInfo.hjd=t.data.basic.hjd,this.MyInfo.education=t.data.basic.education,this.MyInfo.title=t.data.basic.title,this.MyInfo.schoolsystem=t.data.basic.schoolsystem,this.MyInfo.school=t.data.basic.school,this.MyInfo.marriage=t.data.basic.marriage,this.MyInfo.sos_mobile=t.data.contact.sos_mobile,this.MyInfo.sos_name=t.data.contact.sos_name,this.MyInfo.birth=t.data.basic.birth,this.MyInfo.basicMajor=t.data.basic.major,this.subForm.photo=this.MyInfo.basic.photo,void 0!=this.MyInfo.exam_resume&&null!=this.MyInfo.exam_resume&&(this.subForm.idcard_img_just=this.MyInfo.exam_resume.idcard_img_just,this.subForm.idcard_img_back=this.MyInfo.exam_resume.idcard_img_back,this.subForm.driver_certificate_img=this.MyInfo.exam_resume.driver_certificate_img,this.subForm.degree_img=this.MyInfo.exam_resume.degree_img,this.subForm.academic_certificate_img=this.MyInfo.exam_resume.academic_certificate_img,this.subForm.fresh_graduates_img=this.MyInfo.exam_resume.fresh_graduates_img),this.preview1=this.subForm.photo,this.preview2=this.subForm.idcard_img_just,this.preview3=this.subForm.idcard_img_back,this.preview4=this.subForm.driver_certificate_img,this.preview5=this.subForm.degree_img,this.preview6=this.subForm.academic_certificate_img)}).catch(t=>{console.log(t)})}}},c=l,d=(e("b77a"),e("2877")),n=Object(d["a"])(c,s,i,!1,null,"9404a076",null);a["default"]=n.exports},b77a:function(t,a,e){"use strict";e("2e72")}}]);