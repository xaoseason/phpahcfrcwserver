(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ee1285c"],{2547:function(t,e,o){},"45ce":function(t,e,o){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e(t.who,{ref:"child",tag:"components",attrs:{mask:t.mask}})],1)},a=[],i=function(){var t=this,e=t._self._c;return e("div")},r=[],n={name:"CaptchaTencent",props:["mask"],data(){return{}},mounted(){if(void 0===window.TencentCaptcha){let t=document.createElement("script"),e=document.getElementsByTagName("head")[0];t.type="text/javascript",t.charset="UTF-8",t.src="https://ssl.captcha.qq.com/TCaptcha.js",e.appendChild(t)}},created(){},computed:{},methods:{show(t){let e=this;if(""==e.$store.state.config.captcha_tencent_appid)return this.$message.error("请正确配置腾讯防水墙appid"),!1;var o=new window.TencentCaptcha(e.$store.state.config.captcha_tencent_appid,(function(e){0===e.ret&&t(e)}));o.show()}}},c=n,l=o("2877"),d=Object(l["a"])(c,i,r,!1,null,"6b7a70b0",null),h=d.exports,u=function(){var t=this,e=t._self._c;return e("div")},p=[],m={name:"CaptchaVaptcha",props:["mask"],data(){return{}},mounted(){if(void 0===window.vaptcha){let t=document.createElement("script"),e=document.getElementsByTagName("head")[0];t.type="text/javascript",t.charset="UTF-8",t.src="https://v.vaptcha.com/v3.js",e.appendChild(t)}},created(){},computed:{},methods:{show(t){let e=this;if(""==e.$store.state.config.captcha_vaptcha_vid)return this.$message.error("请正确配置手势验证vid"),!1;window.vaptcha({vid:e.$store.state.config.captcha_vaptcha_vid,type:"invisible",scene:0,offline_server:""}).then((function(e){e.validate(),e.listen("pass",(function(){var o={code:e.getToken()};t(o)})),e.listen("close",(function(){}))}))}}},g=m,_=Object(l["a"])(g,u,p,!1,null,"7abd7660",null),f=_.exports,y=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:"验证码",visible:t.showDialog,modal:t.showMadal,width:"350px","close-on-press-escape":!1,"close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.showDialog=e}}},[e("el-form",{attrs:{"label-width":"0px",inline:!0},nativeOn:{submit:function(t){t.preventDefault()}}},[e("el-form-item",{attrs:{label:" "}},[e("el-input",{ref:"ipt",staticStyle:{width:"120px"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handlerConfirm.apply(null,arguments)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),e("el-form-item",{attrs:{label:" "}},[e("img",{staticClass:"captcha_img",attrs:{src:t.src},on:{click:t.changeImg}})]),e("div",{staticClass:"clearfix"}),e("el-form-item",{attrs:{label:" "}},[e("el-button",{staticStyle:{width:"280px"},attrs:{type:"primary"},on:{click:t.handlerConfirm}},[t._v("确定")])],1)],1)],1)],1)},v=[],w=o("751a"),b=o("d722"),C={name:"CaptchaPicture",props:["mask"],data(){return{showDialog:!1,code:"",src:"",secret_str:"",callback:null,showMadal:!1}},mounted(){},created(){},computed:{},methods:{handlerConfirm(){if(""==this.code)return this.$message.error("请输入验证码"),!1;let t={code:this.code,secret_str:this.secret_str};this.callback(t),this.showDialog=!1,this.code=""},show(t){this.showDialog=!0,this.$nextTick(()=>{this.$refs.ipt.focus()}),this.callback=t,!0===this.mask&&(this.showMadal=!0),this.changeImg()},changeImg(){w["a"].get(b["a"].captcha_picture,{}).then(t=>{this.secret_str=t.data.secret_str,this.src=t.data.src}).catch(()=>{})}}},k=C,$=(o("6323"),Object(l["a"])(k,y,v,!1,null,"2ad42de7",null)),x=$.exports,S={name:"Captcha",props:["mask"],components:{ctencent:h,cvaptcha:f,cpicture:x},data(){return{who:""}},mounted(){},created(){this.who=""==this.$store.state.config.captcha_type?"picture":this.$store.state.config.captcha_type,this.who="c"+this.who},computed:{},methods:{show(t,e){1!=this.$store.state.config.captcha_open||void 0!==e&&!0!==e?t():this.$refs.child.show(t)}}},T=S,E=Object(l["a"])(T,s,a,!1,null,"b60cad64",null);e["a"]=E.exports},6323:function(t,e,o){"use strict";o("ad37")},"71fb":function(t,e,o){"use strict";o.r(e);o("14d9");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login_box",class:1==t.utype?"":"p"},[e("div",{staticClass:"b_group"},[1==t.$store.state.config.wechat_login_open?e("div",{class:t.scan?"b_sw aco":"b_sw",on:{click:t.showScan}}):t._e(),e("div",{staticClass:"login_tips",class:1==t.utype?"tips_color_2":"tips_color_1",on:{click:function(e){return e.stopPropagation(),t.$router.push(t.layout.utype_other_login_route)}}},[e("div",{staticClass:"text_1"},[t._v(t._s(1==t.utype?"我是求职者":"我是招聘方"))]),e("div",{staticClass:"text_2",on:{click:function(e){return e.stopPropagation(),t.$router.push(t.layout.utype_other_login_route)}}},[t._v(t._s(1==t.utype?"个人在此登录":"企业在此登录"))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.scan,expression:"!scan"}]},[e("div",{staticClass:"b_title"},[t._v(t._s(t.layout.utype_current_text)+"登录")]),t.loginByCode?e("div",{staticClass:"b_input"},[e("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit.apply(null,arguments)}},model:{value:t.formCode.mobile,callback:function(e){t.$set(t.formCode,"mobile",e)},expression:"formCode.mobile"}}),e("el-input",{attrs:{placeholder:"请输入验证码",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyupSubmit.apply(null,arguments)}},model:{value:t.formCode.code,callback:function(e){t.$set(t.formCode,"code",e)},expression:"formCode.code"}}),e("div",{staticClass:"for_position"},[e("el-button",{style:"color:"+t.$store.state.sendSmsBtnTextColor,attrs:{type:"text"},on:{click:t.sendSms}},[t._v(t._s(t.$store.state.sendSmsBtnText))])],1)],1):e("div",{staticClass:"b_input"},[e("el-input",{attrs:{placeholder:"请输入手机号/用户名/邮箱",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit.apply(null,arguments)}},model:{value:t.formPwd.username,callback:function(e){t.$set(t.formPwd,"username",e)},expression:"formPwd.username"}}),e("el-input",{attrs:{placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit.apply(null,arguments)}},model:{value:t.formPwd.password,callback:function(e){t.$set(t.formPwd,"password",e)},expression:"formPwd.password"}})],1),e("div",{staticClass:"b_handle"},[e("div",{staticClass:"h_left",on:{click:function(e){t.loginByCode=!t.loginByCode}}},[t._v(t._s(t.loginByCode?"账号密码登录":"手机验证码登录"))]),e("div",{staticClass:"h_right"},[e("router-link",{attrs:{to:"/forget/"+t.utype}},[t._v("忘记密码?")])],1),e("div",{staticClass:"clear"})]),e("el-button",{staticClass:"b_btn",attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("立即登录")]),e("div",{staticClass:"b_reg"},[t._v("没有账号？"),e("router-link",{attrs:{to:"/reg"+(1==t.utype?"/company":"")}},[t._v("立即注册")])],1)],1)]),e("div",{staticClass:"clear"}),e("Captcha",{ref:"captcha",attrs:{mask:!0}})],1)},a=[],i=o("ed08"),r=o("e16f"),n=o("751a"),c=o("d722"),l=o("45ce"),d={name:"Login",components:{Captcha:l["a"]},data(){return{regularMobile:/^13[0-9]{9}$|14[0-9]{9}$|15[0-9]{9}$|18[0-9]{9}$|17[0-9]{9}$|16[0-9]{9}$|19[0-9]{9}$/,loginByCode:!1,scan:!1,layout:{utype_current_text:"企业招聘会员",utype_other_text:"求职者会员",utype_other_login_route:"",utype_current_reg_route:""},formPwd:{username:"",password:""},formCode:{mobile:"",code:""},utype:2,redirect:""}},watch:{utype:{immediate:!0,handler(){this.initLayout()}}},created(){let t=this.$route.query.code;if(void 0!==t)return this.$router.push("/oauth/weixin/"+t),!1;if("company"===this.$route.params.utype_alias?this.utype=1:(this.$route.params.utype_alias,this.utype=2),!0===Object(i["d"])())return location.href=this.$store.state.config.mobile_domain+"member/login",!1;if(void 0===window.WxLogin){let t=document.createElement("script"),e=document.getElementsByTagName("head")[0];t.type="text/javascript",t.charset="UTF-8",t.src="https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js",e.appendChild(t)}this.$store.commit("clearCountDownFun")},methods:{showScan(){let t=this;this.scan=!this.scan,!0===this.scan&&new window.WxLogin({id:"wxlogin",appid:t.$store.state.config.wechat_open_appid,scope:"snsapi_login",redirect_uri:location.href,state:"",style:"",href:"data:text/css;base64,LmltcG93ZXJCb3ggLnFyY29kZSB7DQogIHdpZHRoOiAyMDBweDsNCn0NCi5pbXBvd2VyQm94IC5pbmZvIHsNCiAgd2lkdGg6IDIwMHB4Ow0KfQ0KLmltcG93ZXJCb3ggLnN0YXR1cyB7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCn0="})},handleExam(){if("undefined"!==typeof Storage){let o=localStorage.getItem("ExamSignUrl"),s=localStorage.getItem("EndExamNoticeTime"),a=localStorage.getItem("StartExamNoticeTime");if(void 0!=o&&null!=o&&""!=o&&void 0!=s&&null!=s&&""!=s&&void 0!=a&&null!=a&&""!=a){var t=new Date(s.replace(/-/g,"/")),e=new Date(a.replace(/-/g,"/"));if(e.getTime()<=(new Date).getTime()&&t.getTime()>=(new Date).getTime())return this.$confirm("检测到您从考试报名链接进行登录，是否进入报名页面？如不是您点击或不报名点击取消！","温馨提示",{confirmButtonText:"前往",cancelButtonText:"取消",type:"info"}).then(()=>{localStorage.removeItem("ExamSignUrl"),localStorage.removeItem("EndExamNoticeTime"),localStorage.removeItem("StartExamNoticeTime"),location.href=o}).catch(()=>{localStorage.removeItem("ExamSignUrl"),localStorage.removeItem("EndExamNoticeTime"),localStorage.removeItem("StartExamNoticeTime"),this.redirectTo()}),!1;this.redirectTo()}else this.redirectTo()}else console.error("浏览器不支持Storage");this.redirectTo()},initLayout(){this.redirect=void 0!==this.$route.query.redirect?this.$route.query.redirect:"",this.layout.utype_current_text=1===this.utype?"企业招聘会员":"求职者会员",this.layout.utype_other_text=1===this.utype?"求职者会员":"企业招聘会员",this.layout.utype_other_login_route=1===this.utype?"/login":"/login/company",this.layout.utype_current_reg_route=1===this.utype?"/reg/company":"/reg",this.redirect&&(this.layout.utype_other_login_route=this.layout.utype_other_login_route+"?redirect="+this.redirect,this.layout.utype_current_reg_route=this.layout.utype_current_reg_route+"?redirect="+this.redirect)},redirectTo(){""!==this.redirect?0==this.redirect.indexOf("http")?location.href=this.redirect:this.$router.push(this.redirect):1===this.utype?this.$router.push("/company"):this.$router.push("/personal")},doSubmitPwd(){if(!this.formPwd.username)return this.$message.error("请输入手机号/用户名/邮箱"),!1;if(!this.formPwd.password)return this.$message.error("请输入密码"),!1;let t={...this.formPwd};t.utype=this.utype,n["a"].get(c["a"].login_pwd,t).then(e=>{let o=!1;1==e.data&&(o=!0),this.$refs.captcha.show(e=>{void 0!==e&&(t.captcha=e),n["a"].post(c["a"].login_pwd,t).then(t=>{200===parseInt(t.code)?(this.$store.commit("clearCountDownFun"),this.$store.commit("setLoginState",{whether:!0,utype:t.data.utype,token:t.data.token,mobile:t.data.mobile,userIminfo:t.data.user_iminfo}),200!=t.data.next_code?Object(r["a"])({code:t.data.next_code,message:""}):this.handleExam()):this.$message.error(t.message)}).catch(()=>{})},o)}).catch(()=>{})},doSubmitCode(){if(!this.formCode.mobile)return this.$message.error("请输入手机号"),!1;if(!this.regularMobile.test(this.formCode.mobile))return this.$message.error("手机号格式不正确"),!1;let t={...this.formCode};t.utype=this.utype,n["a"].get(c["a"].login_code,t).then(e=>{let o=!1;1==e.data&&(o=!0),this.$refs.captcha.show(e=>{void 0!==e&&(t.captcha=e),n["a"].post(c["a"].login_code,t).then(t=>{200===parseInt(t.code)?(this.$store.commit("clearCountDownFun"),this.$store.commit("setLoginState",{whether:!0,utype:t.data.utype,token:t.data.token,mobile:t.data.mobile,userIminfo:t.data.user_iminfo}),200!=t.data.next_code?Object(r["a"])({code:t.data.next_code,message:""}):this.handleExam()):this.$message.error(t.message)}).catch(()=>{})},o)}).catch(()=>{})},handleSubmit(){this.loginByCode?this.doSubmitCode():this.doSubmitPwd()},keyupSubmit(){""!=this.formCode.code&&(this.loginByCode?this.doSubmitCode():this.doSubmitPwd())},sendSms(){return!this.$store.state.sendSmsBtnDisabled&&(this.formCode.mobile?this.regularMobile.test(this.formCode.mobile)?void this.$refs.captcha.show(t=>{this.$store.dispatch("sendSmsFun",{url:c["a"].get_login_code,mobile:this.formCode.mobile,type:this.utype,captcha:t}).then(t=>{200===t.code?this.$message({type:"success",message:this.$store.state.sendSmsMessage}):this.$message.error(this.$store.state.sendSmsMessage)})}):(this.$message.error("手机号格式不正确"),!1):(this.$message.error("请输入手机号"),!1))},qqLogin(){this.$router.push("/oauth/qq/login")}}},h=d,u=(o("a3e2"),o("2877")),p=Object(u["a"])(h,s,a,!1,null,"8957269a",null);e["default"]=p.exports},a3e2:function(t,e,o){"use strict";o("2547")},ad37:function(t,e,o){}}]);