(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d1c13b4c"],{"0a88":function(e,t,s){"use strict";s("b6ed")},"45ce":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s(e.who,{ref:"child",tag:"components",attrs:{mask:e.mask}})],1)},i=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},o=[],c={name:"CaptchaTencent",props:["mask"],data(){return{}},mounted(){if(void 0===window.TencentCaptcha){let e=document.createElement("script"),t=document.getElementsByTagName("head")[0];e.type="text/javascript",e.charset="UTF-8",e.src="https://ssl.captcha.qq.com/TCaptcha.js",t.appendChild(e)}},created(){},computed:{},methods:{show(e){let t=this;if(""==t.$store.state.config.captcha_tencent_appid)return this.$message.error("请正确配置腾讯防水墙appid"),!1;var s=new window.TencentCaptcha(t.$store.state.config.captcha_tencent_appid,(function(t){0===t.ret&&e(t)}));s.show()}}},r=c,l=s("2877"),h=Object(l["a"])(r,n,o,!1,null,"6b7a70b0",null),d=h.exports,p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},u=[],m={name:"CaptchaVaptcha",props:["mask"],data(){return{}},mounted(){if(void 0===window.vaptcha){let e=document.createElement("script"),t=document.getElementsByTagName("head")[0];e.type="text/javascript",e.charset="UTF-8",e.src="https://v.vaptcha.com/v3.js",t.appendChild(e)}},created(){},computed:{},methods:{show(e){let t=this;if(""==t.$store.state.config.captcha_vaptcha_vid)return this.$message.error("请正确配置手势验证vid"),!1;window.vaptcha({vid:t.$store.state.config.captcha_vaptcha_vid,type:"invisible",scene:0,offline_server:""}).then((function(t){t.validate(),t.listen("pass",(function(){var s={code:t.getToken()};e(s)})),t.listen("close",(function(){}))}))}}},v=m,f=Object(l["a"])(v,p,u,!1,null,"7abd7660",null),b=f.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"验证码",visible:e.showDialog,modal:e.showMadal,width:"350px","close-on-press-escape":!1,"close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(t){e.showDialog=t}}},[s("el-form",{attrs:{"label-width":"0px",inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[s("el-form-item",{attrs:{label:" "}},[s("el-input",{ref:"ipt",staticStyle:{width:"120px"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerConfirm.apply(null,arguments)}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),s("el-form-item",{attrs:{label:" "}},[s("img",{staticClass:"captcha_img",attrs:{src:e.src},on:{click:e.changeImg}})]),s("div",{staticClass:"clearfix"}),s("el-form-item",{attrs:{label:" "}},[s("el-button",{staticStyle:{width:"280px"},attrs:{type:"primary"},on:{click:e.handlerConfirm}},[e._v("确定")])],1)],1)],1)],1)},_=[],w=s("751a"),$=s("d722"),y={name:"CaptchaPicture",props:["mask"],data(){return{showDialog:!1,code:"",src:"",secret_str:"",callback:null,showMadal:!1}},mounted(){},created(){},computed:{},methods:{handlerConfirm(){if(""==this.code)return this.$message.error("请输入验证码"),!1;let e={code:this.code,secret_str:this.secret_str};this.callback(e),this.showDialog=!1,this.code=""},show(e){this.showDialog=!0,this.$nextTick(()=>{this.$refs.ipt.focus()}),this.callback=e,!0===this.mask&&(this.showMadal=!0),this.changeImg()},changeImg(){w["a"].get($["a"].captcha_picture,{}).then(e=>{this.secret_str=e.data.secret_str,this.src=e.data.src}).catch(()=>{})}}},k=y,x=(s("0a88"),Object(l["a"])(k,g,_,!1,null,"2ad42de7",null)),C=x.exports,T={name:"Captcha",props:["mask"],components:{ctencent:d,cvaptcha:b,cpicture:C},data(){return{who:""}},mounted(){},created(){this.who=""==this.$store.state.config.captcha_type?"picture":this.$store.state.config.captcha_type,this.who="c"+this.who},computed:{},methods:{show(e,t){1!=this.$store.state.config.captcha_open||void 0!==t&&!0!==t?e():this.$refs.child.show(e)}}},S=T,E=Object(l["a"])(S,a,i,!1,null,"b60cad64",null);t["a"]=E.exports},"83e8":function(e,t,s){},b6ed:function(e,t,s){},ef0a:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bind_group"},[s("div",{staticClass:"bl"},[s("div",{staticClass:"ava_box"},[s("img",{attrs:{src:e.avatar}})]),s("div",{staticClass:"l_txt"},[e._v("您已登录"+e._s("weixin"==e.bindType?"微信":"QQ")+"账号")])]),s("div",{staticClass:"br"},[s("div",{staticClass:"reg_group"},[e._m(0),s("div",{staticClass:"g_input"},[s("el-select",{style:{width:"320px"},attrs:{placeholder:"请选择"},model:{value:e.utype,callback:function(t){e.utype=t},expression:"utype"}},[s("el-option",{attrs:{label:"企业招聘会员",value:1}}),s("el-option",{attrs:{label:"求职者会员",value:2}})],1),s("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),s("el-input",{attrs:{placeholder:"请输入验证码",clearable:""},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),s("div",{staticClass:"for_position"},[s("el-button",{style:"color:"+e.$store.state.sendSmsBtnTextColor,attrs:{type:"text"},on:{click:e.sendSms}},[e._v(e._s(e.$store.state.sendSmsBtnText))])],1)],1),s("div",{staticClass:"g_agree"},[s("el-checkbox",{staticClass:"for_after",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}}),e._v(" 已阅读并同意 "),s("span",{on:{click:function(t){return e.showAgreement("agreement")}}},[e._v("《用户协议》")]),e._v("和 "),s("span",{on:{click:function(t){return e.showAgreement("privacy")}}},[e._v("《隐私政策》")])],1),s("el-button",{staticClass:"g_btn",attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("关联网站会员")])],1)]),s("div",{staticClass:"clear"}),s("el-dialog",{attrs:{title:e.showTextTitle,visible:e.showText},on:{"update:visible":function(t){e.showText=t}}},[s("div",{staticClass:"agreement"},[s("span",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(e.showTextContent)}})]),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showText=!1}}},[e._v("关 闭")])],1)]),s("Captcha",{ref:"captcha"})],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g_menu"},[s("div",{staticClass:"gm_i"},[e._v("关联新账号")])])}],n=s("e16f"),o=s("751a"),c=s("d722"),r=s("45ce"),l={name:"Bind",components:{Captcha:r["a"]},data(){return{bindType:"weixin",showTextTitle:"注册协议",showTextContent:"",showText:!1,checked:!1,utype:1,mobile:"",code:"",regularMobile:/^13[0-9]{9}$|14[0-9]{9}$|15[0-9]{9}$|18[0-9]{9}$|17[0-9]{9}$|16[0-9]{9}$|19[0-9]{9}$/,openid:"",unionid:"",nickname:"",avatar:""}},created(){this.openid=this.$route.query.openid,this.unionid=this.$route.query.unionid,this.nickname=this.$route.query.nickname,this.avatar=this.$route.query.avatar,this.bindType=this.$route.query.bindType,this.$store.commit("clearCountDownFun")},methods:{showAgreement(e){this.showTextContent="",this.showText=!0,this.showTextTitle="agreement"==e?"注册协议":"隐私政策",o["a"].get(c["a"].agreement,{}).then(t=>{200===parseInt(t.code)?this.showTextContent="agreement"==e?t.data.agreement:t.data.privacy:this.$message.error(t.message)}).catch(()=>{})},redirectTo(){1===this.utype?this.$router.push("/company"):this.$router.push("/personal")},handleSubmit(){if(!this.checked)return this.$message.error("请同意用户协议和隐私政策"),!1;if(!this.mobile)return this.$message.error("请输入手机号"),!1;if(!this.regularMobile.test(this.mobile))return this.$message.error("手机号格式不正确"),!1;if(!this.code)return this.$message.error("请输入验证码"),!1;let e={mobile:this.mobile,code:this.code,utype:this.utype,openid:this.openid,unionid:this.unionid,nickname:this.nickname,avatar:this.avatar},t="weixin"==this.bindType?c["a"].bind_weixin:c["a"].bind_qq;o["a"].post(t,e).then(e=>{200===parseInt(e.code)?(this.$store.commit("clearCountDownFun"),this.$store.commit("setLoginState",{whether:!0,utype:e.data.utype,token:e.data.token,mobile:e.data.mobile,userIminfo:e.data.user_iminfo}),200!=e.data.next_code?Object(n["a"])({code:e.data.next_code,message:""}):this.redirectTo()):this.$message.error(e.message)}).catch(()=>{})},sendSms(){let e=this;return!this.$store.state.sendSmsBtnDisabled&&(this.mobile?this.regularMobile.test(this.mobile)?void this.$refs.captcha.show(t=>{this.$store.dispatch("sendSmsFun",{url:c["a"].sendsms_auth_mobile_nocheck,mobile:this.mobile,type:this.utype,captcha:t}).then(t=>{200===t.code?e.$message({type:"success",message:e.$store.state.sendSmsMessage}):e.$message.error(e.$store.state.sendSmsMessage)})}):(this.$message.error("手机号格式不正确"),!1):(this.$message.error("请输入手机号"),!1))}}},h=l,d=(s("f916"),s("2877")),p=Object(d["a"])(h,a,i,!1,null,"0e726ae0",null);t["default"]=p.exports},f916:function(e,t,s){"use strict";s("83e8")}}]);