(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21d0ce04"],{"0d6a":function(t,e,i){"use strict";i("6231")},"3bb0":function(t,e,i){t.exports=i.p+"static/img/oauth_loading.7a48dd1b.gif"},"51c1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"loading-ico"},[e("img",{attrs:{src:i("3bb0")}})]),e("div",{staticClass:"loading-txt"},[t._v("正在获取第三方授权...")])])}],s=(i("14d9"),i("751a")),n=i("d722"),r={name:"OauthWeixin",data(){return{code:""}},created(){this.init()},methods:{doLogin(t){s["a"].post(n["a"].oauth_weixin_login,t).then(t=>{200===parseInt(t.code)?(this.$store.commit("clearCountDownFun"),this.$store.commit("setLoginState",{whether:!0,utype:t.data.utype,token:t.data.token,mobile:t.data.mobile,userIminfo:t.data.user_iminfo}),1===t.data.utype?this.$router.push("/company"):this.$router.push("/personal")):this.$message.error(t.message)}).catch(()=>{})},getUserinfo(t){let e={code:t};s["a"].post(n["a"].oauth_weixin_getuserinfo,e).then(t=>{this.doLogin(t.data)}).catch(()=>{})},init(){let t=this.$route.params.code;if(void 0!==t)return this.getUserinfo(t),!1}}},c=r,u=(i("0d6a"),i("2877")),d=Object(u["a"])(c,a,o,!1,null,"4c23d798",null);e["default"]=d.exports},6231:function(t,e,i){}}]);