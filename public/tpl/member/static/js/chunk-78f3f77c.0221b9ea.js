(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78f3f77c"],{"1b6f":function(t,e,i){},"32b4":function(t,e,i){"use strict";i("1b6f")},"3bb0":function(t,e,i){t.exports=i.p+"static/img/oauth_loading.7a48dd1b.gif"},b99c:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"loading-ico"},[s("img",{attrs:{src:i("3bb0")}})]),s("div",{staticClass:"loading-txt"},[t._v("正在获取第三方授权...")])])}],a=i("751a"),n=i("d722"),r={name:"OauthQq",data(){return{type:"login"}},created(){this.type=this.$route.params.type,this.init()},methods:{doLogin(t){a["a"].post(n["a"].oauth_qq_login,t).then(t=>{200===parseInt(t.code)?(this.$store.commit("clearCountDownFun"),this.$store.commit("setLoginState",{whether:!0,utype:t.data.utype,token:t.data.token,mobile:t.data.mobile,userIminfo:t.data.user_iminfo}),1===t.data.utype?this.$router.push("/company"):this.$router.push("/personal")):this.$message.error(t.message)}).catch(()=>{})},doBind(t){a["a"].post(n["a"].oauth_qq_bind,t).then(t=>{200===parseInt(t.code)?1===this.$store.state.LoginType?this.$router.push("/company"):this.$router.push("/personal"):this.$message.error(t.message)}).catch(()=>{})},getUserinfo(t){let e={accessToken:t};a["a"].post(n["a"].oauth_qq_getuserinfo,e).then(t=>{"login"==this.type?this.doLogin(t.data):"bind"==this.type&&this.doBind(t.data)}).catch(()=>{})},init(){if(0===window.location.hash.length){let t=location.href,e="https://graph.qq.com/oauth2.0/authorize?response_type=token&client_id="+this.$store.state.config.account_qqlogin_appid+"&redirect_uri="+t;window.location.href=e}else{let t=this.$route.hash.substring(1);if(void 0!==t&&""!=t){let e=t.split("&"),i=e[0].split("="),s=i[1];return this.getUserinfo(s),!1}}}}},h=r,c=(i("32b4"),i("2877")),u=Object(c["a"])(h,s,o,!1,null,"48b24810",null);e["default"]=u.exports}}]);