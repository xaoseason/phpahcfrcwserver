(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50f137b6"],{"16ab":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("div",[a("menuheader",[t._v("浏览记录")]),a("div",{staticClass:"list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.dataset,"header-cell-style":{background:"#fcfcfc",color:"#b8babd"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{"header-align":"left",align:"left",label:"基本信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"information_wrapper"},[a("div",{staticClass:"portraitImg"},[a("img",{attrs:{src:e.row.photo_img_src}})]),a("div",{staticClass:"information_list"},[a("div",{staticClass:"fn_bar"},[a("a",{staticClass:"name a-link",attrs:{href:e.row.resume_link_url_web,target:"_blank"}},[t._v(t._s(e.row.fullname))]),e.row.high_quality>0?a("div",{staticClass:"hq"}):t._e(),a("div",{staticClass:"clear"})]),a("p",{staticClass:"information"},[t._v(t._s(e.row.age)+"岁 | "+t._s(e.row.education_text)+" | "+t._s(e.row.experience_text)+" | "+t._s(e.row.sex_text)+" ")])])])]}}])}),a("el-table-column",{attrs:{width:"340px","header-align":"left",label:"求职意向"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticClass:"intention_post"},[t._v("想找 "),a("span",[t._v(t._s(e.row.intention_jobs))]),t._v(" 工作")]),a("p",{staticClass:"intention_local"},[t._v("想在 "),a("span",[t._v(t._s(e.row.intention_district))]),t._v(" 工作")])]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"浏览时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"time"},[t._v(" "+t._s(t._f("timeFilter")(e.row.addtime))+" ")])]}}])}),a("el-table-column",{attrs:{"header-align":"center",width:"170px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handlerDownload(e.row.resume_id)}}},[t._v("下载简历")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handlerDel(e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"del_btn"},[a("el-button",{attrs:{type:"mini"},on:{click:t.handlerDelBatch}},[t._v("删除")])],1),a("pagination",{attrs:{total:t.total,"current-page":t.params.page,"page-size":t.params.pagesize},on:{handleCurrentChange:t.doSearch}})],1)],1)])},n=[],i=a("ed08"),c=a("751a"),r=a("d722"),l=a("9dc2"),o={components:{menuheader:l["default"]},filters:{timeFilter(t){return Object(i["c"])(t,"{y}-{m}-{d} {h}:{i}",!0)}},data(){return{listLoading:!1,dataset:[],total:0,params:{page:1,pagesize:10},multipleSelection:[],showDirectService:!1,directServiceInfo:{}}},created(){this.fetchData(!0)},methods:{fetchData(t){this.listLoading=!0,c["a"].get(r["a"].company_view_resume_list,this.params).then(e=>{this.dataset=[...e.data.items],this.listLoading=!1,!0===t&&this.fetchTotal()}).catch(()=>{})},fetchTotal(){c["a"].get(r["a"].company_view_resume_list_total,{}).then(t=>{this.total=t.data}).catch(()=>{})},doSearch(t){this.params.page=t,this.fetchData()},handleSelectionChange(t){this.multipleSelection=t},handlerDel(t){this.$confirm("确定删除该查看记录吗？","系统提示",{type:"warning"}).then(()=>{c["a"].post(r["a"].company_view_resume_del,{id:t.id}).then(()=>{this.$message({type:"success",message:"删除成功"}),this.fetchData(!0)}).catch(()=>{})}).catch(()=>{})},handlerDelBatch(){if(0==this.multipleSelection.length)return this.$message.error("请选择记录"),!1;let t=[];this.multipleSelection.forEach(e=>{t.push(e.id)}),this.$confirm("确定删除选择的查看记录吗？","系统提示",{type:"warning"}).then(()=>{c["a"].post(r["a"].company_view_resume_del_batch,{id:t}).then(()=>{this.$message({type:"success",message:"删除成功"}),this.fetchData(!0)}).catch(()=>{})}).catch(()=>{})},handlerDownload(t){this.$confirm("确定下载该简历吗？","系统提示",{type:"warning"}).then(()=>{c["a"].post(r["a"].resumedownload,{resume_id:t}).then(e=>{if(0==e.data.done)return this.showDirectService=!0,this.directServiceInfo={use_type:e.data.use_type,need_points:e.data.need_points,need_expense:e.data.need_expense,discount:e.data.discount,resume:t,btnCn:"points"==e.data.use_type?"立即兑换":"立即支付"},!1;this.$message({type:"success",message:e.message}),this.fetchData()}).catch(()=>{})}).catch(()=>{})}}},d=o,u=(a("2519"),a("2877")),h=Object(u["a"])(d,s,n,!1,null,"c5a7b1b8",null);e["default"]=h.exports},2519:function(t,e,a){"use strict";a("de44")},"3a23":function(t,e,a){"use strict";var s=a("9675"),n=a.n(s);e["default"]=n.a},"54ce":function(t,e,a){"use strict";a("da64")},"59ac":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browsing_wrapper"},[a("p",[t._t("default")],2)])},n=[]},9675:function(t,e){},"9dc2":function(t,e,a){"use strict";var s=a("59ac"),n=a("3a23"),i=(a("54ce"),a("2877")),c=Object(i["a"])(n["default"],s["a"],s["b"],!1,null,"014ad7c1",null);e["default"]=c.exports},da64:function(t,e,a){},de44:function(t,e,a){}}]);