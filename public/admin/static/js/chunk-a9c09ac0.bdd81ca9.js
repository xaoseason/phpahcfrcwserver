(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9c09ac0"],{"04d0":function(t,e,a){},2422:function(t,e,a){},"893a":function(t,e,a){"use strict";var s=a("04d0"),i=a.n(s);i.a},"8c6a":function(t,e,a){"use strict";var s=a("2422"),i=a.n(s);i.a},ee1b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"企业信息",lazy:!0}},[a("fieldForm",{attrs:{listtype:"company"}})],1),a("el-tab-pane",{attrs:{label:"职位信息",lazy:!0}},[a("fieldForm",{attrs:{listtype:"job"}})],1),a("el-tab-pane",{attrs:{label:"简历信息",lazy:!0}},[a("fieldForm",{attrs:{listtype:"resume"}})],1),a("el-tab-pane",{attrs:{label:"简历模块",lazy:!0}},[a("resumeModule")],1)],1)],1)},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.infoLoading,expression:"infoLoading"}],staticClass:"common-form",attrs:{"label-width":"0","inline-message":!0}},[a("el-form-item",[a("el-table",{attrs:{border:"",data:t.list}},[a("el-table-column",{attrs:{label:"字段名"},scopedSlots:t._u([{key:"default",fn:function(e){return[!1===e.row.is_custom?a("span",[t._v(" "+t._s(e.row.field_cn)+" ")]):a("el-form-item",[a("el-input",{staticStyle:{width:"120px"},attrs:{maxlength:"4"},model:{value:e.row.field_cn,callback:function(a){t.$set(e.row,"field_cn",a)},expression:"scope.row.field_cn"}})],1)]}}])}),a("el-table-column",{attrs:{align:"center",label:"是否显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[!1===e.row.enable_close?a("div",[a("span",{staticStyle:{color:"#67C23A"}},[t._v("显示")]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"系统不允许关闭此项",placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})])],1):a("el-switch",{model:{value:e.row.is_display,callback:function(a){t.$set(e.row,"is_display",a)},expression:"scope.row.is_display"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"是否必填"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{model:{value:e.row.is_require,callback:function(a){t.$set(e.row,"is_require",a)},expression:"scope.row.is_require"}})]}}])})],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)],1)],1)},n=[],o=(a("4160"),a("159b"),a("2909")),r=a("1063"),c={props:["listtype"],data:function(){return{infoLoading:!0,list:[]}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var t=this;this.infoLoading=!0;var e=this,a={type:this.listtype};Object(r["k"])(a,"get").then((function(a){var s=Object(o["a"])(a.data);s.forEach((function(t,a,s){t.is_display=1==t.is_display,t.is_require=1==t.is_require,t.enable_close=1==t.enable_close,t.is_custom=1==t.is_custom,e.list.push(t)})),t.infoLoading=!1})).catch((function(){}))},onSubmit:function(t){var e=this,a=this,s=!1,i=[];if(this.list.forEach((function(t,e,l){var n={id:t.id,field_cn:t.field_cn,is_display:!0===t.is_display?1:0,is_require:!0===t.is_require?1:0};if(""==n.field_cn)return a.$message.error("字段名不能为空"),s=!0,!1;i[e]=n})),!0===s)return!1;Object(r["k"])(i).then((function(t){return e.$message.success(t.message),!0})).catch((function(){}))}}},u=c,f=(a("893a"),a("2877")),d=Object(f["a"])(u,l,n,!1,null,"3bee5b0e",null),p=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.infoLoading,expression:"infoLoading"}],staticClass:"common-form",attrs:{"label-width":"0","inline-message":!0}},[a("el-form-item",[a("el-table",{attrs:{border:"",data:t.list}},[a("el-table-column",{attrs:{label:"模块名称",prop:"module_cn"}}),a("el-table-column",{attrs:{align:"center",label:"是否显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[!1===e.row.enable_close?a("div",[a("span",{staticStyle:{color:"#67C23A"}},[t._v("显示")]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"系统不允许关闭此项",placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})])],1):a("el-switch",{on:{change:t.handle_total},model:{value:e.row.is_display,callback:function(a){t.$set(e.row,"is_display",a)},expression:"scope.row.is_display"}})]}}])}),a("el-table-column",{attrs:{label:"完整度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",[a("el-input",{staticStyle:{width:"120px"},attrs:{type:"number"},on:{change:t.handle_total,blur:t.handle_total},model:{value:e.row.score,callback:function(a){t.$set(e.row,"score",a)},expression:"scope.row.score"}})],1)]}}])})],1),a("el-card",{staticStyle:{"border-top":"0"},attrs:{shadow:"never"}},[t._v(" 完整度总和： "),a("b",{style:"color:"+t.total_color},[t._v(t._s(t.total))]),!1===t.infoLoading&&100!=t.total?a("el-alert",{attrs:{title:"完整度总和必须等于100",type:"error",closable:!1}}):t._e()],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)],1)],1)},b=[],_={data:function(){return{infoLoading:!0,list:[],total:0,total_color:"#67C23A"}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var t=this;this.infoLoading=!0;var e=this;Object(r["n"])({},"get").then((function(a){var s=Object(o["a"])(a.data);s.forEach((function(t,a,s){t.is_display=1==t.is_display,t.enable_close=1==t.enable_close,e.list.push(t),!0===t.is_display&&(e.total=e.total+parseInt(t.score))})),t.infoLoading=!1})).catch((function(){}))},onSubmit:function(t){var e=this,a=this,s=!1,i=[];if(this.list.forEach((function(t,e,a){""==t.score&&(t.score=0);var s={id:t.id,is_display:!0===t.is_display?1:0,score:t.score};i[e]=s})),100!=this.total&&(a.$message.error("完整度总和必须等于100"),s=!0),!0===s)return!1;Object(r["n"])(i).then((function(t){return e.$message.success(t.message),!0})).catch((function(){}))},handle_total:function(){var t=0;this.list.forEach((function(e){1==e.is_display&&(""==e.score&&(e.score=0),t+=parseInt(e.score))})),this.total_color=100==t?"#67C23A":"#F56C6C",this.total=t}}},h=_,y=(a("8c6a"),Object(f["a"])(h,m,b,!1,null,"30dfcfe1",null)),v=y.exports,w={components:{fieldForm:p,resumeModule:v}},g=w,k=Object(f["a"])(g,s,i,!1,null,null,null);e["default"]=k.exports}}]);