(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8bd2d900"],{"117a":function(t,e,a){},"13fa":function(t,e,a){},"14c3":function(t,e,a){var o=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"151a":function(t,e,a){"use strict";var o=a("117a"),n=a.n(o);n.a},"1f0b":function(t,e,a){"use strict";var o=a("5953"),n=a.n(o);n.a},4527:function(t,e,a){},"52b5":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var o=a("b775"),n=a("d722");function i(t){return Object(o["a"])({url:n["a"].getClassify,method:"get",params:t})}},5319:function(t,e,a){"use strict";var o=a("d784"),n=a("825a"),i=a("7b0b"),r=a("50c4"),s=a("a691"),l=a("1d80"),c=a("8aa5"),m=a("14c3"),u=Math.max,f=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};o("replace",2,(function(t,e,a,o){var b=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=o.REPLACE_KEEPS_$0,_=b?"$":"$0";return[function(a,o){var n=l(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n,o):e.call(String(n),a,o)},function(t,o){if(!b&&v||"string"===typeof o&&-1===o.indexOf(_)){var i=a(e,t,this,o);if(i.done)return i.value}var l=n(t),d=String(this),p="function"===typeof o;p||(o=String(o));var h=l.global;if(h){var x=l.unicode;l.lastIndex=0}var k=[];while(1){var w=m(l,d);if(null===w)break;if(k.push(w),!h)break;var E=String(w[0]);""===E&&(l.lastIndex=c(d,r(l.lastIndex),x))}for(var $="",C=0,j=0;j<k.length;j++){w=k[j];for(var D=String(w[0]),S=u(f(s(w.index),d.length),0),T=[],I=1;I<w.length;I++)T.push(g(w[I]));var O=w.groups;if(p){var A=[D].concat(T,S,d);void 0!==O&&A.push(O);var R=String(o.apply(void 0,A))}else R=y(D,d,S,T,O,o);S>=C&&($+=d.slice(C,S)+R,C=S+D.length)}return $+d.slice(C)}];function y(t,a,o,n,r,s){var l=o+t.length,c=n.length,m=h;return void 0!==r&&(r=i(r),m=p),e.call(s,m,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,o);case"'":return a.slice(l);case"<":s=r[i.slice(1,-1)];break;default:var m=+i;if(0===m)return e;if(m>c){var u=d(m/10);return 0===u?e:u<=c?void 0===n[u-1]?i.charAt(1):n[u-1]+i.charAt(1):e}s=n[m-1]}return void 0===s?"":s}))}}))},5953:function(t,e,a){},"620b8":function(t,e,a){"use strict";var o=a("13fa"),n=a.n(o);n.a},6491:function(t,e,a){},"6cf2":function(t,e,a){},"6f3b":function(t,e,a){"use strict";var o=a("e36a"),n=a.n(o);n.a},"808f":function(t,e,a){"use strict";var o=a("b092"),n=a.n(o);n.a},"8aa5":function(t,e,a){"use strict";var o=a("6547").charAt;t.exports=function(t,e,a){return e+(a?o(t,e).length:1)}},9263:function(t,e,a){"use strict";var o=a("ad6d"),n=a("9f7f"),i=RegExp.prototype.exec,r=String.prototype.replace,s=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=n.UNSUPPORTED_Y||n.BROKEN_CARET,m=void 0!==/()??/.exec("")[1],u=l||m||c;u&&(s=function(t){var e,a,n,s,u=this,f=c&&u.sticky,d=o.call(u),p=u.source,h=0,g=t;return f&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),g=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,h++),a=new RegExp("^(?:"+p+")",d)),m&&(a=new RegExp("^"+p+"$(?!\\s)",d)),l&&(e=u.lastIndex),n=i.call(f?a:u,g),f?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=u.lastIndex,u.lastIndex+=n[0].length):u.lastIndex=0:l&&n&&(u.lastIndex=u.global?n.index+n[0].length:e),m&&n&&n.length>1&&r.call(n[0],a,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n}),t.exports=s},"987c":function(t,e,a){"use strict";var o=a("6491"),n=a.n(o);n.a},"9f7f":function(t,e,a){"use strict";var o=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var o=a("23e7"),n=a("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},b092:function(t,e,a){},b5ce:function(t,e,a){"use strict";var o=a("6cf2"),n=a.n(o);n.a},d784:function(t,e,a){"use strict";a("ac1f");var o=a("6eeb"),n=a("d039"),i=a("b622"),r=a("9263"),s=a("9112"),l=i("species"),c=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),m=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),f=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),d=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,u){var p=i(t),h=!n((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=h&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[p]=/./[p]),a.exec=function(){return e=!0,null},a[p](""),!e}));if(!h||!g||"replace"===t&&(!c||!m||f)||"split"===t&&!d){var b=/./[p],v=a(p,""[t],(function(t,e,a,o,n){return e.exec===r?h&&!n?{done:!0,value:b.call(e,a,o)}:{done:!0,value:t.call(a,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),_=v[0],y=v[1];o(String.prototype,t,_),o(RegExp.prototype,p,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}u&&s(RegExp.prototype[p],"sham",!0)}},daf4:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"生成推文",lazy:!0}},[a("toolmarketingcreate")],1),a("el-tab-pane",{attrs:{label:"模板管理",lazy:!0}},[a("toolmarketingtemplate")],1)],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[!1===t.chooseDone?a("el-form",{staticClass:"common-form",attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"信息类型"}},[a("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:"joblist"}},[t._v("筛选职位")]),a("el-radio",{attrs:{label:"tojob"}},[t._v("指定职位")]),a("el-radio",{attrs:{label:"tocompany"}},[t._v("指定企业")])],1)],1),a(t.form.type,{ref:"conditionData",tag:"components"}),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",loading:t.submiting},on:{click:function(e){return t.onSubmit("form")}}},[t._v(" 确定 ")])],1)],1):t._e(),t.chooseDone?a("showform",{attrs:{datalist:t.datalist},on:{goback:function(e){t.chooseDone=!1}}}):t._e()],1)],1)},r=[],s=a("5530"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",staticClass:"common-form",attrs:{model:t.form,"label-width":"100px",rules:t.rules}},[a("el-form-item",{attrs:{label:"职位类别",prop:"jobcategory"}},[a("el-cascader",{staticClass:"large",attrs:{placeholder:"不限",options:t.options_jobcategory,props:t.props_jobcategory,"collapse-tags":"",clearable:""},model:{value:t.form.jobcategory,callback:function(e){t.$set(t.form,"jobcategory",e)},expression:"form.jobcategory"}})],1),a("el-form-item",{attrs:{label:"目标地区",prop:"district"}},[a("el-cascader",{staticClass:"large",attrs:{placeholder:"不限",options:t.options_citycategory,props:t.props_citycategory,"collapse-tags":"",clearable:""},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1),a("el-form-item",{attrs:{label:"目标行业",prop:"trade"}},[a("el-select",{staticClass:"large",attrs:{multiple:"",placeholder:"不限"},model:{value:t.form.trade,callback:function(e){t.$set(t.form,"trade",e)},expression:"form.trade"}},t._l(t.options_trade,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"职位亮点",prop:"tag"}},[a("el-select",{staticClass:"large",attrs:{multiple:"",placeholder:"不限"},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}},t._l(t.options_tag,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"刷新时间",prop:"refreshtime"}},[a("el-radio-group",{model:{value:t.form.refreshtime,callback:function(e){t.$set(t.form,"refreshtime",e)},expression:"form.refreshtime"}},[a("el-radio",{attrs:{label:-1}},[t._v(" 不限 ")]),a("el-radio",{attrs:{label:1}},[t._v(" 今天 ")]),a("el-radio",{attrs:{label:7}},[t._v(" 7天内 ")]),a("el-radio",{attrs:{label:15}},[t._v(" 15天内 ")]),a("el-radio",{attrs:{label:30}},[t._v(" 30天内 ")])],1)],1),a("el-form-item",{attrs:{label:"薪资待遇",prop:"wage"}},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},on:{change:t.handleCheckAllWage},model:{value:t.checkWageAll,callback:function(e){t.checkWageAll=e},expression:"checkWageAll"}},[t._v(" 不限 ")]),a("el-checkbox-group",{on:{change:t.handleCheckedWageChange},model:{value:t.form.wage,callback:function(e){t.$set(t.form,"wage",e)},expression:"form.wage"}},t._l(t.options_wage,(function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"输出内容"}},[a("el-radio-group",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}},[a("el-radio",{attrs:{label:"refreshtime"}},[t._v(" 刷新时间 ")]),a("el-radio",{attrs:{label:"stick"}},[t._v(" 仅置顶职位 ")]),a("el-radio",{attrs:{label:"emergency"}},[t._v(" 仅紧急职位 ")]),a("el-radio",{attrs:{label:"promotion"}},[t._v(" 推广优先 ")])],1)],1),a("el-form-item",{attrs:{label:"生成数量"}},[a("el-radio-group",{model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}},[a("el-radio",{attrs:{label:10}},[t._v(" 10条 ")]),a("el-radio",{attrs:{label:20}},[t._v(" 20条 ")]),a("el-radio",{attrs:{label:30}},[t._v(" 30条 ")]),a("el-radio",{attrs:{label:50}},[t._v(" 50条 ")]),a("el-radio",{attrs:{label:80}},[t._v(" 80条 ")])],1)],1)],1)],1)},c=[],m=a("52b5"),u={name:"Joblist",data:function(){return{checkWageAll:!0,checkSetmealAll:!0,props_jobcategory:{multiple:!0,checkStrictly:!0},options_jobcategory:[],props_citycategory:{multiple:!0,checkStrictly:!0},options_citycategory:[],options_trade:[],options_tag:[],options_wage:[],options_setmeal:[],form:{jobcategory:[],district:[],trade:[],tag:[],wage:[],setmeal_id:[],content:"refreshtime",refreshtime:-1,num:10},rules:{}}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var t=this;Object(m["a"])({type:"jobTag,jobcategory,citycategory,trade,setmealList,wage"}).then((function(e){t.options_tag=e.data.jobTag,t.options_jobcategory=e.data.jobcategory,t.options_citycategory=e.data.citycategory,t.options_trade=e.data.trade,t.options_setmeal=e.data.setmealList,t.options_wage=e.data.wage})).catch((function(){}))},handleCheckAllWage:function(t){if(t)this.form.wage=[];else if(0==this.form.wage.length)return!1},handleCheckedWageChange:function(t){var e=t.length;this.checkWageAll=!(e>0)},handleCheckAllSetmeal:function(t){if(t)this.form.setmeal_id=[];else if(0==this.form.setmeal_id.length)return!1},handleCheckedSetmealChange:function(t){var e=t.length;this.checkSetmealAll=!(e>0)}}},f=u,d=(a("f360"),a("2877")),p=Object(d["a"])(f,l,c,!1,null,"66c7f4b0",null),h=p.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{staticClass:"common-form",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"指定职位",prop:"company_id"}},[a("el-select",{staticClass:"large",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入职位ID/职位名称","remote-method":t.jobSearch,loading:t.search_loading},model:{value:t.job_id,callback:function(e){t.job_id=e},expression:"job_id"}},t._l(t.options_joblist,(function(e){return a("el-option",{key:e.id,attrs:{value:e}},[a("span",{staticStyle:{float:"left"}},[t._v(" 【职位名称："+t._s(e.jobname)+"】 / 【ID："+t._s(e.id)+"】"),a("font",{attrs:{color:"red"}},[t._v("【所属企业："+t._s(e.companyname)+"】")])],1)])})),1)],1),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:""}},t._l(t.submitTag,(function(e,o){return a("el-tag",{key:o,staticStyle:{margin:"5px",float:"left"},attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return t.delJobs(e)}}},[t._v(" "+t._s(e.jobname)+" ")])})),1)],1)],1)},b=[],v=(a("c975"),a("a434"),a("b775")),_=a("d722");function y(t){return Object(v["a"])({url:_["a"].tweetsTemplateList,method:"get",params:t})}function x(t){return Object(v["a"])({url:_["a"].tweetsTitleFooter,method:"get",params:t})}function k(t){return Object(v["a"])({url:_["a"].tweetsTemplateDel,method:"post",data:t})}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==e?Object(v["a"])({url:_["a"].tweetsTemplateEdit,method:e,data:t}):Object(v["a"])({url:_["a"].tweetsTemplateEdit,method:e,params:t})}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==e?Object(v["a"])({url:_["a"].tweetsTemplateAdd,method:e,data:t}):Object(v["a"])({url:_["a"].tweetsTemplateAdd,method:e,params:t})}function $(t){return Object(v["a"])({url:_["a"].tweetsJoblist,method:"post",data:t})}function C(t){return Object(v["a"])({url:_["a"].tweetsSearchCompany,method:"get",params:t})}function j(t){return Object(v["a"])({url:_["a"].tweetsSearchJob,method:"get",params:t})}var D={data:function(){return{options_joblist:[],submitTag:[],job_id:"",loading:!0,search_loading:!1,rules:{}}},watch:{job_id:function(t,e){void 0!==t&&this.addJobs()}},created:function(){},methods:{addJobs:function(){if(this.job_id){var t=this.submitTag.indexOf(this.job_id);-1==t?(this.submitTag.push(this.job_id),this.job_id="",this.options_joblist=[]):this.$message.success("已存在指定职位列表中")}},delJobs:function(t){var e=this.submitTag.indexOf(t);-1!=e&&this.submitTag.splice(e,1)},jobSearch:function(t){var e=this;""!==t?(this.search_loading=!0,j({keyword:t}).then((function(t){e.options_joblist=t.data.items,e.search_loading=!1})).catch((function(){}))):this.options=[]}}},S=D,T=(a("620b8"),Object(d["a"])(S,g,b,!1,null,"a6f2e3aa",null)),I=T.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",staticClass:"common-form",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"指定企业",prop:"company_id"}},[a("el-select",{staticClass:"large",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入企业ID/企业名称","remote-method":t.companySearch,loading:t.search_loading},model:{value:t.company_id,callback:function(e){t.company_id=e},expression:"company_id"}},t._l(t.options_companylist,(function(e){return a("el-option",{key:e.id,attrs:{value:e,disabled:1!=e.has_job}},[a("span",{staticStyle:{float:"left"}},[t._v(" 【企业名称："+t._s(e.companyname)+"】 / 【ID："+t._s(e.id)+"】"),a("font",{attrs:{color:"red"}},[t._v("【职位数："+t._s(e.has_job_num)+"】")])],1)])})),1)],1),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:""}},t._l(t.submitTag,(function(e,o){return a("el-tag",{key:o,staticStyle:{margin:"5px",float:"left"},attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return t.delJobs(e)}}},[t._v(" "+t._s(e.companyname)+" ")])})),1)],1)],1)},A=[],R={data:function(){return{options_companylist:[],submitTag:[],company_id:"",search_loading:!1,rules:{}}},watch:{company_id:function(t,e){void 0!==t&&this.addJobs()}},created:function(){},methods:{addJobs:function(){if(this.submitTag.length>0)this.$message.error("仅可选择一个企业");else if(this.company_id){var t=this.submitTag.indexOf(this.company_id);-1==t?(this.submitTag.push(this.company_id),this.options_companylist=[]):this.$message.success("已存在指定企业列表中")}else this.$message.error("请选择企业")},delJobs:function(t){var e=this.submitTag.indexOf(t);-1!=e&&this.submitTag.splice(e,1)},companySearch:function(t){var e=this;""!==t?(this.search_loading=!0,C({keyword:t}).then((function(t){e.options_companylist=t.data.items,e.search_loading=!1})).catch((function(){}))):this.options=[]}}},F=R,J=(a("b5ce"),Object(d["a"])(F,O,A,!1,null,"b92062c0",null)),L=J.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"divleft"},[a("el-form",{staticClass:"common-form",attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"选择模板",prop:"temname"}},[a("el-select",{staticClass:"large",attrs:{placeholder:"不限"},model:{value:t.temname,callback:function(e){t.temname=e},expression:"temname"}},t._l(t.options_temtype,(function(t){return a("el-option",{key:t.id,attrs:{label:t.temname,value:t.id}})})),1)],1),a("el-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{label:"职位"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"html-block",attrs:{id:"htmlcontents","element-loading-text":"正在搜索符合条件的职位..."}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},t._l(t.datalist,(function(e,o){return a("el-tag",{key:o,staticStyle:{margin:"5px",float:"left"},attrs:{closable:"","disable-transitions":!1},on:{close:function(a){return t.delJobs(e)}}},[t._v(" "+t._s(e.jobname)+" ")])})),1)])]),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onCreate("form")}}},[t._v(" 生成 ")]),a("el-button",{on:{click:function(e){t.loading=!0,t.$emit("goback")}}},[t._v(" 返回 ")])],1)],1)],1),a("div",{staticClass:"divright"},[a("div",{staticStyle:{width:"65px","margin-left":"50px","line-height":"50px","font-size":"16px","font-weight":"bold",color:"#666"}},[t._v("推文预览")]),a("el-form",{staticClass:"common-form",attrs:{"label-width":"50px"}},[a("el-form-item",{attrs:{label:""}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadings,expression:"loadings"}],staticClass:"html-block-r",attrs:{id:"htmlcontent","element-loading-text":"正在生成模板..."}},[t.showtem?a(t.tplComponents,{tag:"components",attrs:{datalist:t.datalist,"item-info-id":t.itemInfoId,"params-arr":t.params_arr,"content-params-arr":t.content_params_arr,"title-footer":t.title_footer},on:{copyhtml:t.copyhtmlFun}}):t._e()],1)]),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:t.copy}},[t._v(" 一键复制 ")])],1)],1)],1)])},N=[];function P(t){return Object(v["a"])({url:_["a"].tweetslabelList,method:"get",params:t})}var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{attrs:{value:t.content,type:"textarea",rows:20},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},z=[],W=(a("4160"),a("ac1f"),a("5319"),a("159b"),{props:["datalist","itemInfoId","paramsArr","contentParamsArr","titleFooter"],data:function(){return{content:"",itemInfo:[]}},watch:{datalist:function(t,e){this.replaceContent()},content:function(t,e){this.$emit("copyhtml",t)}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;t.listLoading=!0,w({id:t.itemInfoId},"get").then((function(e){t.itemInfo=e.data.info,t.replaceContent(),t.listLoading=!1})).catch((function(){}))},replaceContent:function(){var t=this,e="",a=JSON.parse(JSON.stringify(t.itemInfo.title));t.paramsArr.forEach((function(e){a=a.replace("#"+e.value+"#",t.titleFooter[e.value])})),e=e+a+"\n\r",t.datalist.forEach((function(a,o){var n=JSON.parse(JSON.stringify(t.itemInfo.content));t.contentParamsArr.forEach((function(t){n="id"===t.value?n.replace("#"+t.value+"#",o+1):n.replace("#"+t.value+"#",a[t.value])})),e+=n+"\n\r"}));var o=JSON.parse(JSON.stringify(t.itemInfo.footer));t.paramsArr.forEach((function(e){o=o.replace("#"+e.value+"#",t.titleFooter[e.value])})),e+=o,t.content=e}}}),q=W,B=Object(d["a"])(q,U,z,!1,null,null,null),K=B.exports,M={components:{jobresult:K},props:["datalist"],data:function(){return{loading:!0,loadings:!1,showtem:!1,temname:1,html:"",tplComponents:"",options_temtype:[],params_arr:[],content_params_arr:[],title_footer:[],itemInfoId:""}},watch:{datalist:function(t,e){void 0!==t&&(this.loading=!1)},temname:function(t,e){void 0!==t&&(this.itemInfoId=this.temname,this.showtem=!1)}},created:function(){this.fetchInfo()},methods:{copyhtmlFun:function(t){this.html=t},delJobs:function(t){var e=this.datalist.indexOf(t);-1!=e&&this.datalist.splice(e,1)},onCreate:function(){""==this.temname?this.$message.error("请选择模板"):(this.showtem=!1,this.showtem=!0,this.itemInfoId=this.temname,this.tplComponents="",this.tplComponents="jobresult")},fetchInfo:function(){var t=this;y({}).then((function(e){t.options_temtype=e.data.items})).catch((function(){})),P({},"get").then((function(e){t.params_arr=e.data.items.footer,t.content_params_arr=e.data.items.content})).catch((function(){})),x({},"get").then((function(e){t.title_footer=e.data})).catch((function(){}))},copy:function(){var t=this.html,e=this.copys(t);document.addEventListener("copy",e),document.execCommand("copy"),removeEventListener("copy",e),this.$message({type:"success",message:"复制成功"})},copys:function(t){return function(e){e.clipboardData.setData("text/plain",t),e.preventDefault()}}}},G=M,X=(a("808f"),Object(d["a"])(G,V,N,!1,null,"32b47e92",null)),Y=X.exports,H={components:{joblist:h,tojob:I,tocompany:L,showform:Y},data:function(){return{chooseDone:!1,options_platform:[],submiting:!1,form:{type:"joblist",condition:null},datalist:[],options_temtype:[]}},created:function(){},methods:{onSubmit:function(t){var e=this;if("joblist"==e.form.type){if(e.chooseDone=!0,!0===e.submiting)return!1;e.submiting=!0,e.form.condition=Object(s["a"])({},e.$refs.conditionData.form)}if("tojob"==e.form.type){if(void 0===e.$refs.conditionData.submitTag[0]||""===e.$refs.conditionData.submitTag[0]||!e.$refs.conditionData.submitTag[0])return e.$message.error("请选择职位"),e.submiting=!1,!1;if(e.chooseDone=!0,!0===e.submiting)return!1;e.submiting=!0,e.form.condition=Object(s["a"])({},e.$refs.conditionData.submitTag)}if("tocompany"==e.form.type){if(void 0===e.$refs.conditionData.submitTag[0]||""===e.$refs.conditionData.submitTag[0]||!e.$refs.conditionData.submitTag[0])return e.$message.error("请选择企业"),e.submiting=!1,!1;if(e.chooseDone=!0,!0===e.submiting)return!1;e.submiting=!0,e.form.condition=Object(s["a"])({},e.$refs.conditionData.submitTag)}var a=Object(s["a"])({},e.form);$(a).then((function(t){return e.submiting=!1,e.datalist=t.data.items,!0})).catch((function(){e.submiting=!1}))}}},Q=H,Z=(a("987c"),Object(d["a"])(Q,i,r,!1,null,"881defb4",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"tem_div",on:{click:function(e){return t.funAdd()}}},[t._m(0)]),t._l(t.list,(function(e,o){return a("div",{key:o},[a("div",{staticClass:"tem_div"},[a("el-card",{staticClass:"box-card",staticStyle:{border:"none","-webkit-box-shadow":"0","box-shadow":"0 0 0 0 rgba(0,0,0,.1)"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(e.temname))]),"0"==e.is_sys?a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(a){return t.funDel(e.id)}}},[t._v("删除")]):t._e(),a("el-button",{staticStyle:{float:"right",padding:"3px 0","margin-right":"10px"},attrs:{type:"text"},on:{click:function(a){return t.funEdit(e.id)}}},[t._v("编辑")])],1),a("div",{staticClass:"tem_title",staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:t._s(e.content_)}},[t._v(" "+t._s(e.content_)+" ")])])],1)])})),t.dialogEditFormVisible?a("el-dialog",{attrs:{title:"编辑模板",visible:t.dialogEditFormVisible,width:"59%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogEditFormVisible=e},close:t.closeDialog}},[a("diaeditform",{attrs:{"item-info":t.itemInfo},on:{closeDia:function(e){return t.eaCloseDia("edit")},setDialogEditFormVisible:t.closeDialog,pageReload:t.fetchData}})],1):t._e(),t.dialogFormVisible?a("el-dialog",{attrs:{title:"新增模板",visible:t.dialogFormVisible,width:"59%","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.closeDialog}},[a("diaaddform",{on:{closeAddDia:function(e){return t.eaCloseDia("add")},setDialogFormVisible:t.closeDialog}})],1):t._e()],2)},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem_add"},[a("i",{staticClass:"el-icon-circle-plus",staticStyle:{"font-size":"75px",color:"#409eff"}}),a("br"),a("br"),a("span",{staticClass:"icon-name",staticStyle:{"font-size":"16px",color:"#409eff"}},[t._v("新增模板")])])}],ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",staticClass:"common-form",attrs:{"inline-message":!0,model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"模板名称",prop:"temname"}},[a("el-input",{attrs:{id:"form_temname"},model:{value:t.form.temname,callback:function(e){t.$set(t.form,"temname",e)},expression:"form.temname"}})],1),a("el-form-item",{attrs:{label:"头部内容",prop:"title"}},[a("el-input",{attrs:{id:"form_title",rows:"2",type:"textarea"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),a("div",{staticClass:"clearfix"}),t._l(t.params_arr,(function(e,o){return a("el-tag",{key:o,staticClass:"param_tag",attrs:{size:"small"},on:{click:function(a){return t.handlerTag("title",e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("el-form-item",{attrs:{label:"主体内容",prop:"content"}},[a("el-input",{attrs:{id:"form_content",rows:"10",type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),a("div",{staticClass:"clearfix"}),t._l(t.content_params_arr,(function(e,o){return a("el-tag",{key:o,staticClass:"param_tag",attrs:{size:"small"},on:{click:function(a){return t.handlerTag("content",e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("el-form-item",{attrs:{label:"尾部内容",prop:"footer"}},[a("el-input",{attrs:{id:"form_footer",rows:"2",type:"textarea"},model:{value:t.form.footer,callback:function(e){t.$set(t.form,"footer",e)},expression:"form.footer"}}),a("div",{staticClass:"clearfix"}),t._l(t.params_arr,(function(e,o){return a("el-tag",{key:o,staticClass:"param_tag",attrs:{size:"small"},on:{click:function(a){return t.handlerTag("footer",e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("el-form-item",{attrs:{label:" "}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v(" 确定 ")]),a("el-button",{on:{click:function(e){return t.close()}}},[t._v(" 取消 ")])],1)],1)},nt=[],it={props:["itemInfo","dialogEditFormVisible"],data:function(){return{form:{id:0,temname:"",title:"",content:"",footer:""},params_arr:[],content_params_arr:[],rules:{temname:[{required:!0,message:"请输入模板名称",trigger:"blur"}],title:[{required:!1,message:"请输入头部内容",trigger:"blur"}],content:[{required:!0,message:"请输入主体内容",trigger:"blur"}],footer:[{required:!1,message:"请输入尾部内容",trigger:"blur"}]}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,P({},"get").then((function(e){t.params_arr=e.data.items.footer,t.content_params_arr=e.data.items.content})).catch((function(){})),w({id:this.itemInfo},"get").then((function(e){t.form=e.data.info,t.listLoading=!1})).catch((function(){}))},closeDialog:function(){this.$emit("closeDia")},goto:function(t){this.$router.push(t)},handlerTag:function(t,e){var a=" #"+e.value+"# ",o=document.getElementById("form_"+t),n=o.selectionStart,i=o.selectionEnd;if(void 0!==n&&void 0!==i){var r=o.value,s=r.substring(0,n)+a+r.substring(i);o.value=s,o.focus(),o.selectionStart=n+a.length,o.selectionEnd=n+a.length,this.form[t]=s}},onSubmit:function(t){var e=this,a=this,o=Object(s["a"])({},a.form);this.$refs[t].validate((function(t){if(!t)return!1;w(o).then((function(t){return e.$message.success(t.message),e.closeDialog(),e.close(),e.fetchData(),!0})).catch((function(){}))}))},pageReload:function(){this.$emit("pageReload")},close:function(){this.$emit("closeDia")}}},rt=it,st=(a("6f3b"),Object(d["a"])(rt,ot,nt,!1,null,"21084bed",null)),lt=st.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",staticClass:"common-form",attrs:{"inline-message":!0,model:t.form,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"模板名称",prop:"temname"}},[a("el-input",{attrs:{id:"form_temname"},model:{value:t.form.temname,callback:function(e){t.$set(t.form,"temname",e)},expression:"form.temname"}})],1),a("el-form-item",{attrs:{label:"头部内容",prop:"title"}},[a("el-input",{attrs:{id:"form_title",rows:"2",type:"textarea"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),a("div",{staticClass:"clearfix"}),t._l(t.params_arr,(function(e,o){return a("el-tag",{key:o,staticClass:"param_tag",attrs:{size:"small"},on:{click:function(a){return t.handlerTag("title",e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("el-form-item",{attrs:{label:"主体内容",prop:"content"}},[a("el-input",{attrs:{id:"form_content",rows:"10",type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),a("div",{staticClass:"clearfix"}),t._l(t.content_params_arr,(function(e,o){return a("el-tag",{key:o,staticClass:"param_tag",attrs:{size:"small"},on:{click:function(a){return t.handlerTag("content",e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("el-form-item",{attrs:{label:"尾部内容",prop:"footer"}},[a("el-input",{attrs:{id:"form_footer",rows:"2",type:"textarea"},model:{value:t.form.footer,callback:function(e){t.$set(t.form,"footer",e)},expression:"form.footer"}}),a("div",{staticClass:"clearfix"}),t._l(t.params_arr,(function(e,o){return a("el-tag",{key:o,staticClass:"param_tag",attrs:{size:"small"},on:{click:function(a){return t.handlerTag("footer",e)}}},[t._v(" "+t._s(e.name)+" ")])}))],2),a("el-form-item",{attrs:{label:" "}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v(" 确定 ")]),a("el-button",{on:{click:function(e){return t.close()}}},[t._v(" 取消 ")])],1)],1)},mt=[],ut={props:["dialogAddFormVisible"],data:function(){return{form:{temname:"",title:"",content:"",footer:""},params_arr:[],content_params_arr:[],rules:{temname:[{required:!0,message:"请输入模板名称",trigger:"blur"}],title:[{required:!1,message:"请输入头部内容",trigger:"blur"}],content:[{required:!0,message:"请输入主体内容",trigger:"blur"}],footer:[{required:!1,message:"请输入尾部内容",trigger:"blur"}]}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,P({},"get").then((function(e){t.params_arr=e.data.items.footer,t.content_params_arr=e.data.items.content})).catch((function(){}))},closeDialog:function(){this.$emit("closeAddDia")},goto:function(t){this.$router.push(t)},handlerTag:function(t,e){var a=" #"+e.value+"# ",o=document.getElementById("form_"+t),n=o.selectionStart,i=o.selectionEnd;if(void 0!==n&&void 0!==i){var r=o.value,s=r.substring(0,n)+a+r.substring(i);o.value=s,o.focus(),o.selectionStart=n+a.length,o.selectionEnd=n+a.length,this.form[t]=s}},onSubmit:function(t){var e=this,a=this,o=Object(s["a"])({},a.form);this.$refs[t].validate((function(t){if(!t)return!1;E(o).then((function(t){return e.$message.success(t.message),e.dialogFormVisible=!1,e.closeDialog(),e.close(),e.fetchData(),!0})).catch((function(){}))}))},pageReload:function(){this.$emit("pageReload")},close:function(){this.$emit("closeAddDia")}}},ft=ut,dt=(a("1f0b"),Object(d["a"])(ft,ct,mt,!1,null,"4e879a91",null)),pt=dt.exports,ht={components:{diaeditform:lt,diaaddform:pt},data:function(){return{dialogFormVisible:!1,dialogEditFormVisible:!1,list:null,listLoading:!0,itemInfo:null}},created:function(){this.fetchData()},methods:{funEdit:function(t){var e=this;e.itemInfo=t,e.dialogEditFormVisible=!0},funDel:function(t){var e=this;e.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:t};k(a).then((function(t){return e.$message.success(t.message),e.fetchData(),!0}))})).catch((function(){})),console.log(t)},funAdd:function(){this.dialogFormVisible=!0},goto:function(t){this.$router.push(t)},fetchData:function(){var t=this;this.listLoading=!0,y({}).then((function(e){t.list=e.data.items,t.listLoading=!1}))},closeDialog:function(){this.dialogFormVisible=!1},eaCloseDia:function(t){"add"===t?this.dialogFormVisible=!1:this.dialogEditFormVisible=!1,this.fetchData()}}},gt=ht,bt=(a("151a"),Object(d["a"])(gt,et,at,!1,null,"6243ba62",null)),vt=bt.exports,_t={components:{toolmarketingcreate:tt,toolmarketingtemplate:vt}},yt=_t,xt=Object(d["a"])(yt,o,n,!1,null,null,null);e["default"]=xt.exports},e36a:function(t,e,a){},f360:function(t,e,a){"use strict";var o=a("4527"),n=a.n(o);n.a}}]);