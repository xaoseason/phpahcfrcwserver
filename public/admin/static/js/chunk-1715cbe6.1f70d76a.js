(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1715cbe6"],{"6aa9":function(a,t,e){"use strict";e("f8b5")},c62d:function(a,t,e){"use strict";e.r(t);var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"body"},[e("Head",[a._v("积分充值")]),e("van-field",{staticClass:"form_choose reset_after big_left",attrs:{readonly:"",clickable:"",value:a.companyname,label:"选择企业",placeholder:"请选择","input-align":"right",colon:!0},on:{click:function(t){a.showSearch=!0}}}),""!=a.companyname?e("van-field",{staticClass:"reset_after",attrs:{label:"会员积分",placeholder:"会员积分","input-align":"right",colon:!0,readonly:""},model:{value:a.points,callback:function(t){a.points=t},expression:"points"}}):a._e(),e("van-field",{staticClass:"form_choose reset_after",attrs:{readonly:"",clickable:"",value:a.opCn,label:"操作积分",placeholder:"请选择","input-align":"right",colon:!0},on:{click:function(t){a.showPicker=!0}}}),e("van-field",{staticClass:"reset_after",attrs:{type:"number",label:"增减数额",placeholder:"输入要操作的积分数(整数)","input-align":"right",colon:!0},model:{value:a.form.points_val,callback:function(t){a.$set(a.form,"points_val",t)},expression:"form.points_val"}}),e("van-field",{staticClass:"reset_after",attrs:{label:"是否收费"}}),e("div",{staticClass:"for_btn"},[e("van-switch",{staticClass:"self_switch",attrs:{size:"18px","active-color":"#0088fc"},model:{value:a.form.is_charge,callback:function(t){a.$set(a.form,"is_charge",t)},expression:"form.is_charge"}})],1),!0===a.form.is_charge||1==a.form.is_charge?e("van-field",{staticClass:"reset_after",attrs:{type:"digit",label:"收费金额",placeholder:"请输入收费金额","input-align":"right",colon:!0},model:{value:a.form.charge_val,callback:function(t){a.$set(a.form,"charge_val",t)},expression:"form.charge_val"}}):a._e(),e("van-field",{staticClass:"reset_after no_border",attrs:{readonly:"",clickable:"",label:"操作说明",colon:!0,"input-align":"right"}}),e("div",{staticClass:"box_1"},[e("van-field",{staticStyle:{"background-color":"#f9f9f9"},attrs:{rows:"5",autosize:"",label:"",type:"textarea",placeholder:"请输入操作说明"},model:{value:a.form.explain,callback:function(t){a.$set(a.form,"explain",t)},expression:"form.explain"}})],1),e("div",{staticClass:"bottom clear"},[e("div",{staticClass:"l_btn",on:{click:a.savePoints}},[a._v("修改积分")]),e("div",{staticClass:"r_btn",on:{click:function(t){return a.$router.push("/business")}}},[a._v("取消")])]),e("van-popup",{staticStyle:{width:"80%",height:"100%"},attrs:{"lazy-render":!1,position:"right"},model:{value:a.showSearch,callback:function(t){a.showSearch=t},expression:"showSearch"}},[e("search-company",{on:{onConfirm:a.confirmCompany}})],1),e("van-popup",{attrs:{position:"bottom"},model:{value:a.showPicker,callback:function(t){a.showPicker=t},expression:"showPicker"}},[e("van-picker",{attrs:{"show-toolbar":"",columns:a.columnsPicker},on:{confirm:a.onConfirmPicker,cancel:function(t){a.showPicker=!1}}})],1)],1)},s=[],i=(e("5f5f"),e("f253")),n=e("751a"),r=e("d722"),c=e("9bac"),l=e("2b0e");l["a"].use(i["a"]);var f={name:"pointsEdit",components:{searchCompany:c["a"]},data:function(){return{columnsPicker:[{text:"增加",id:1},{text:"减少",id:2}],showPicker:!1,form:{uid:0,op:1,points_val:"",explain:"",is_charge:!0,charge_val:""},showSearch:!1,companyname:"",points:0,opCn:"增加"}},created:function(){},methods:{confirmCompany:function(a){this.form.uid=a.uid,this.companyname=a.companyname,this.points=a.points,this.showSearch=!1},onConfirmPicker:function(a){this.form.op=a.id,this.opCn=a.text,this.showPicker=!this.showPicker},savePoints:function(){var a=this;if(""==this.form.uid||0==this.form.uid)return this.$toast.fail("请选择企业"),!1;if(""==this.form.points_val||0==this.form.points_val)return this.$toast.fail("请输入增减数额"),!1;var t=JSON.parse(JSON.stringify(this.form));t.is_charge=!0===t.is_charge?1:0,n["a"].post(r["a"].memberPointsSet,t).then((function(t){a.$toast.success(t.message),a.$router.push("/business")})).catch((function(){}))}}},h=f,p=(e("6aa9"),e("2877")),u=Object(p["a"])(h,o,s,!1,null,"10b168ad",null);t["default"]=u.exports},f8b5:function(a,t,e){}}]);