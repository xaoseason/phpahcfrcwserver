(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dae8a"],{"6e38":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("任务配置")])]),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.infoLoading,expression:"infoLoading"}],staticClass:"common-form",attrs:{"label-width":"0","inline-message":!0}},[a("el-form-item",[a("el-table",{attrs:{border:"",data:t.list}},[a("el-table-column",{attrs:{label:"任务名称",prop:"name"}}),a("el-table-column",{attrs:{align:"center",label:"完成任务奖励积分"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form-item",[a("el-input",{staticStyle:{width:"120px"},attrs:{type:"number"},model:{value:e.row.points,callback:function(a){t.$set(e.row,"points",a)},expression:"scope.row.points"}})],1)]}}])}),a("el-table-column",{attrs:{align:"center",label:"每天奖励次数上限"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.daily?a("el-form-item",[a("el-input",{staticStyle:{width:"120px"},attrs:{type:"number"},model:{value:e.row.max_perday,callback:function(a){t.$set(e.row,"max_perday",a)},expression:"scope.row.max_perday"}})],1):a("el-form-item",[t._v(" - ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"任务类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.daily?a("span",{staticClass:"font_warning"},[t._v(" 日常任务 ")]):a("span",{staticClass:"font_brand"},[t._v("单次任务")])]}}])})],1)],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("保存")])],1)],1)],1)],1)},o=[],i=(a("4160"),a("159b"),a("5530")),s=a("2909"),l=a("b775"),r=a("d722");function c(t){return Object(l["a"])({url:r["a"].taskList,method:"get",params:t})}function u(t){return Object(l["a"])({url:r["a"].taskSave,method:"post",data:t})}var d={data:function(){return{infoLoading:!0,list:[]}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var t=this;this.infoLoading=!0,c({utype:2},"get").then((function(e){t.list=Object(s["a"])(e.data.items),t.infoLoading=!1})).catch((function(){}))},onSubmit:function(t){var e=this,a=[];this.list.forEach((function(t,e,n){var o=Object(i["a"])({},t),s=o.id,l=o.points,r=o.daily,c=o.max_perday,u={id:s,points:l,daily:r,max_perday:c};a.push(u)})),u(a).then((function(t){return e.$message.success(t.message),!0})).catch((function(){}))}}},f=d,m=a("2877"),p=Object(m["a"])(f,n,o,!1,null,null,null);e["default"]=p.exports}}]);