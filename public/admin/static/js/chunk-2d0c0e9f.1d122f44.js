(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0e9f"],{"448a":function(t,n,o){"use strict";o.r(n);var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div")},i=[],a=(o("ac1f"),o("1276"),o("751a")),c=o("d722"),s={name:"OauthWeixin",data:function(){return{globalConfig:{}}},created:function(){this.config()},methods:{config:function(){var t=this,n=this;a["a"].get(c["a"].loginConfig,{}).then((function(o){n.globalConfig=o.data,t.init()})).catch((function(){}))},doLogin:function(t){var n=this,o={code:t};a["a"].post(c["a"].weixinlogin,o).then((function(t){200==t.code?(localStorage.setItem("admintoken",t.data.token),n.$toast.success(t.message)):n.$toast.fail(t.message),setTimeout((function(){location.href=location.href.split("#")[0]}),1500)})).catch((function(){}))},init:function(){var t=this.$route.query.code;if(void 0!==t)return this.doLogin(t),!1;var n=this.globalConfig.wechat_appid,o=location.href.split("#")[0];o=encodeURI(o);var e="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+n+"&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo&state=oauth#wechat_redirect";window.location.href=e}}},r=s,u=o("2877"),f=Object(u["a"])(r,e,i,!1,null,null,null);n["default"]=f.exports}}]);