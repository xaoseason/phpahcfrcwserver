(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfc86404"],{"2beb":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"body"},[i("Head",[t._v("企业认证")]),i("van-cell-group",[i("van-cell",{staticClass:"substring",scopedSlots:t._u([{key:"title",fn:function(){return[i("span",{staticClass:"cus_title"},[t._v("企业名称：")]),i("span",{staticClass:"cus_content"},[t._v(t._s(t.info.companyname))])]},proxy:!0}])}),i("van-cell",{staticClass:"substring",scopedSlots:t._u([{key:"title",fn:function(){return[i("span",{staticClass:"cus_title"},[t._v("认证状态：")]),i("div",{staticClass:"i_tag",class:t._f("auditFilter")(t.info.auth_status)},[t._v(t._s(t.options_audit[t.info.auth_status]))])]},proxy:!0}])})],1),i("div",{staticClass:"up_line"},[i("div",{staticClass:"up_box"},[i("div",{staticClass:"up_title"},[t._v("营业执照：")]),i("div",{staticClass:"up_loader photo"},[""!=t.info.license?i("van-image",{attrs:{src:t.info.license},on:{click:function(a){return t.preview(t.info.license)}}}):i("p",{staticClass:"no"},[t._v("暂未上传")])],1)]),i("div",{staticClass:"up_box"},[i("div",{staticClass:"up_title"},[t._v("委托书(函)：")]),i("div",{staticClass:"up_loader photo"},[""!=t.info.proxy?i("van-image",{attrs:{src:t.info.proxy},on:{click:function(a){return t.preview(t.info.proxy)}}}):i("p",{staticClass:"no"},[t._v("暂未上传")])],1)])]),i("div",{staticClass:"up_line"},[i("div",{staticClass:"up_box"},[i("div",{staticClass:"up_title"},[t._v("经办人身份证(正)：")]),i("div",{staticClass:"up_loader photo"},[""!=t.info.legal_person_idcard_front?i("van-image",{attrs:{src:t.info.legal_person_idcard_front},on:{click:function(a){return t.preview(t.info.legal_person_idcard_front)}}}):i("p",{staticClass:"no"},[t._v("暂未上传")])],1)]),i("div",{staticClass:"up_box"},[i("div",{staticClass:"up_title"},[t._v("经办人身份证(反)：")]),i("div",{staticClass:"up_loader photo"},[""!=t.info.legal_person_idcard_back?i("van-image",{attrs:{src:t.info.legal_person_idcard_back},on:{click:function(a){return t.preview(t.info.legal_person_idcard_back)}}}):i("p",{staticClass:"no"},[t._v("暂未上传")])],1)])]),i("div",{staticClass:"bottom clear"},[i("div",{staticClass:"l_btn",on:{click:function(a){return t.funAudit(1)}}},[t._v("认证通过")]),i("div",{staticClass:"r_btn",on:{click:function(a){return t.funAudit(2)}}},[t._v("拒绝")])]),i("van-dialog",{attrs:{title:"认证不通过原因","show-confirm-button":!1,"show-cancel-button":!1,closeOnClickOverlay:!0},model:{value:t.showReason,callback:function(a){t.showReason=a},expression:"showReason"}},[i("van-form",{on:{submit:t.onSubmitReason}},[i("van-field",{attrs:{rows:"3",autosize:"",label:"",type:"textarea",placeholder:"请填写认证不通过原因",rules:[{required:!0,message:""}]},model:{value:t.auditReason,callback:function(a){t.auditReason=a},expression:"auditReason"}}),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)],1)},n=[],e=(i("4662"),i("28a2")),o=(i("68ef"),i("9d70"),i("3743"),i("09fe"),i("44bf")),c=(i("159b"),i("b0c0"),i("751a")),u=i("d722"),l=i("2b0e");l["a"].use(o["a"]);var r={name:"companyAudit",filters:{auditFilter:function(t){switch(t){case 0:return"wait";case 1:return"passed";case 2:return"failed";default:return"not"}}},data:function(){return{id:0,info:{},options_audit:[],showReason:!1,auditReason:""}},created:function(){this.id=parseInt(this.$route.params.id),this.fetchClassify()},methods:{fetchClassify:function(){var t=this;c["a"].get(u["a"].classify,{type:"companyAudit"}).then((function(a){var i=a.data;i.forEach((function(a){t.options_audit[a.id]=a.name})),t.options_audit[3]="未认证",t.fetchData()})).catch((function(){}))},fetchData:function(){var t=this;c["a"].get(u["a"].companyAuthDetail,{id:this.id}).then((function(a){t.info=a.data,t.license=[{url:t.info.license}]})).catch((function(){}))},funAudit:function(t){var a=this;1==t?this.$dialog.confirm({title:"系统提示",message:"确定设置为认证通过吗?"}).then((function(){c["a"].post(u["a"].companyAudit,{id:[a.info.id],audit:1}).then((function(t){a.$toast.success(t.message),a.$router.go(-1)})).catch((function(){}))})).catch((function(){})):this.showReason=!0},onSubmitReason:function(){var t=this;c["a"].post(u["a"].companyAudit,{id:[this.info.id],audit:2,reason:this.auditReason}).then((function(a){t.$toast.success(a.message),t.$router.go(-1)})).catch((function(){}))},preview:function(t){Object(e["a"])([t])}}},d=r,f=(i("c8b1"),i("2877")),p=Object(f["a"])(d,s,n,!1,null,"218e674d",null);a["default"]=p.exports},4662:function(t,a,i){"use strict";i("68ef"),i("a71a"),i("9d70"),i("3743"),i("09fe"),i("4d75"),i("e3b3"),i("8270"),i("786d"),i("504b")},"664a":function(t,a,i){},c8b1:function(t,a,i){"use strict";i("664a")}}]);