(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79c91a50"],{"6b0d":function(t,e,s){"use strict";s("8647")},8647:function(t,e,s){},a5ca:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("Head",[t._v(t._s(t.title))]),void 0===t.info.info.username?s("van-skeleton",{attrs:{title:"",row:3}}):s("van-cell-group",[s("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("用户名：")]),s("span",{staticClass:"cus_content"},[t._v(t._s(t.info.info.username))]),s("div",{staticClass:"cus_btn absolute_for_y",on:{click:t.openResetUsername}},[t._v("修改")])]},proxy:!0}])}),s("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("会员密码：")]),s("span",{staticClass:"cus_content"},[t._v("******")]),s("div",{staticClass:"cus_btn absolute_for_y",on:{click:t.openResetPassword}},[t._v("修改")])]},proxy:!0}])}),s("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("手机号：")]),s("span",{staticClass:"cus_content"},[t._v(t._s(t.info.info.mobile))]),s("div",{staticClass:"cus_btn absolute_for_y",on:{click:t.openResetMobile}},[t._v("修改")])]},proxy:!0}])}),s("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("UID：")]),s("span",{staticClass:"cus_content"},[t._v(t._s(t.info.info.uid))])]},proxy:!0}])}),1===t.type?s("van-cell",{staticClass:"substring",scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("企业名称：")]),s("span",{staticClass:"cus_content"},[t._v(t._s(null===t.info.company?"未知企业名称":t.info.company.companyname))])]},proxy:!0}],null,!1,2646458437)}):t._e(),2===t.type?s("van-cell",{staticClass:"substring",scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("简历：")]),s("span",{staticClass:"cus_content"},[t._v(t._s(null===t.info.resume?"未知姓名":t.info.resume.fullname)+" (完整度："+t._s(null===t.info.resume?"0":t.info.resume.complete_percent)+"%)")])]},proxy:!0}],null,!1,2590203263)}):t._e(),s("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("最近登录：")]),s("span",{staticClass:"cus_content"},[t._v(t._s(t._f("timeFilter")(t.info.info.last_login_time)))])]},proxy:!0}])}),s("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("注册时间：")]),s("span",{staticClass:"cus_content"},[t._v(t._s(t._f("timeFilter")(t.info.info.reg_time))+" ("+t._s(t.info.info.platform_cn)+")")])]},proxy:!0}])}),s("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[s("span",{staticClass:"cus_title"},[t._v("账号状态：")]),s("span",{staticClass:"cus_content"},[t._v(t._s(1==t.info.info.status?"正常":"已锁定"))]),s("div",{staticClass:"cus_btn absolute_for_y",on:{click:t.handleLock}},[t._v(t._s(1==t.info.info.status?"锁定":"解锁"))])]},proxy:!0}])})],1),s("van-popup",{staticStyle:{width:"100%",height:"100%"},attrs:{"lazy-render":!1,position:"right",overlay:!1},model:{value:t.showResetUsername,callback:function(e){t.showResetUsername=e},expression:"showResetUsername"}},[s("reset-user-name",{on:{closePopout:t.closeResetUsername,onSubmit:t.saveUsername}})],1),s("van-popup",{staticStyle:{width:"100%",height:"100%"},attrs:{"lazy-render":!1,position:"right",overlay:!1},model:{value:t.showResetPassword,callback:function(e){t.showResetPassword=e},expression:"showResetPassword"}},[s("reset-password",{attrs:{nocheck:!0},on:{closePopout:t.closeResetPassword,onSubmit:t.savePassword}})],1),s("van-popup",{staticStyle:{width:"100%",height:"100%"},attrs:{"lazy-render":!1,position:"right",overlay:!1},model:{value:t.showResetMobile,callback:function(e){t.showResetMobile=e},expression:"showResetMobile"}},[s("reset-mobile",{on:{closePopout:t.closeResetMobile,onSubmit:t.saveMobile}})],1),s("div",{staticClass:"bottom clear"},[s("div",{staticClass:"l_btn",on:{click:t.toInfo}},[t._v(t._s(1===t.type?"查看企业资料":"查看简历信息"))]),s("div",{staticClass:"r_btn",on:{click:t.deleteInfo}},[t._v("删除")])])],1)},o=[],i=s("751a"),a=s("d722"),c=s("0237"),l=s("ee39"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Head",{attrs:{"go-back-custom":!0},on:{goBackCustomMethod:function(e){return t.$emit("closePopout")}}},[t._v("修改手机号")]),s("van-form",{on:{submit:t.onSubmit}},[s("van-cell-group",[s("van-field",{attrs:{label:"手机号",placeholder:"请输入手机号",rules:[{required:!0,message:""}]},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},r=[],f={name:"resetMobile",data:function(){return{mobile:""}},methods:{onSubmit:function(){this.$emit("onSubmit",{mobile:this.mobile})}}},m=f,p=s("2877"),_=Object(p["a"])(m,u,r,!1,null,"58071570",null),h=_.exports,d=s("ed08"),v={name:"userShow",components:{resetUserName:c["a"],resetPassword:l["a"],resetMobile:h},filters:{timeFilter:function(t){return Object(d["a"])(t,"{y}-{m}-{d} {h}:{i}")}},data:function(){return{info:{info:{},company:null,resume:null},title:"",uid:"",type:1,showResetUsername:!1,showResetPassword:!1,showResetMobile:!1}},created:function(){this.type=parseInt(this.$route.params.type),this.uid=parseInt(this.$route.params.uid),this.title=1===this.type?"企业会员详情":"个人会员详情",this.fetchData()},methods:{fetchData:function(){var t=this;i["a"].get(a["a"].memberDetail,{uid:this.uid}).then((function(e){t.info=e.data})).catch((function(){}))},saveUsername:function(t){var e=this;t.uid=e.uid,i["a"].post(a["a"].memberUsername,t).then((function(s){e.$toast.success(s.message),e.closeResetUsername(t.username)})).catch((function(){}))},savePassword:function(t){var e=this;t.uid=e.uid,i["a"].post(a["a"].memberPassword,t).then((function(t){e.$toast.success(t.message),e.closeResetPassword()})).catch((function(){}))},saveMobile:function(t){var e=this;t.uid=e.uid,i["a"].post(a["a"].memberMobile,t).then((function(s){e.$toast.success(s.message),e.closeResetMobile(t.mobile)})).catch((function(){}))},openResetUsername:function(){this.showResetUsername=!0},closeResetUsername:function(t){this.showResetUsername=!1,void 0!==t&&(this.info.info.username=t)},openResetPassword:function(){this.showResetPassword=!0},closeResetPassword:function(){this.showResetPassword=!1},openResetMobile:function(){this.showResetMobile=!0},closeResetMobile:function(t){this.showResetMobile=!1,void 0!==t&&(this.info.info.mobile=t)},handleLock:function(){var t=this,e=this.info.info.status,s=1==e?"当前账号是开启状态，锁定账号后将不能登录网站，是否确认锁定？":"当前账号是锁定状态，是否确认解除锁定？",n={};n.uid=this.uid,n.status=1==e?0:1,this.$dialog.confirm({title:"系统提示",message:s}).then((function(){i["a"].post(a["a"].memberLock,n).then((function(e){t.$toast.success(e.message),t.info.info.status=n.status})).catch((function(){}))})).catch((function(){}))},toInfo:function(){null!==this.info.company?location.href=this.info.company.mobile_link:location.href=this.info.resume.mobile_link},deleteInfo:function(){var t=this;this.$dialog.confirm({title:"系统提示",message:"此操作将永久删除该会员, 是否继续?"}).then((function(){i["a"].post(a["a"].memberDelete,{uid:[t.uid]}).then((function(e){t.$toast.success(e.message),t.$router.go(-1)})).catch((function(){}))})).catch((function(){}))}}},b=v,y=(s("6b0d"),Object(p["a"])(b,n,o,!1,null,"eaa71004",null));e["default"]=y.exports}}]);