(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bdf490f"],{1276:function(e,t,i){"use strict";var l=i("d784"),a=i("44e7"),s=i("825a"),o=i("1d80"),r=i("4840"),n=i("8aa5"),c=i("50c4"),d=i("14c3"),u=i("9263"),p=i("d039"),f=[].push,_=Math.min,m=4294967295,b=!p((function(){return!RegExp(m,"y")}));l("split",2,(function(e,t,i){var l;return l="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var l=String(o(this)),s=void 0===i?m:i>>>0;if(0===s)return[];if(void 0===e)return[l];if(!a(e))return t.call(l,e,s);var r,n,c,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),_=0,b=new RegExp(e.source,p+"g");while(r=u.call(b,l)){if(n=b.lastIndex,n>_&&(d.push(l.slice(_,r.index)),r.length>1&&r.index<l.length&&f.apply(d,r.slice(1)),c=r[0].length,_=n,d.length>=s))break;b.lastIndex===r.index&&b.lastIndex++}return _===l.length?!c&&b.test("")||d.push(""):d.push(l.slice(_)),d.length>s?d.slice(0,s):d}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var a=o(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,a,i):l.call(String(a),t,i)},function(e,a){var o=i(l,e,this,a,l!==t);if(o.done)return o.value;var u=s(e),p=String(this),f=r(u,RegExp),v=u.unicode,h=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(b?"y":"g"),g=new f(b?u:"^(?:"+u.source+")",h),y=void 0===a?m:a>>>0;if(0===y)return[];if(0===p.length)return null===d(g,p)?[p]:[];var x=0,w=0,k=[];while(w<p.length){g.lastIndex=b?w:0;var C,j=d(g,b?p:p.slice(w));if(null===j||(C=_(c(g.lastIndex+(b?0:w)),p.length))===x)w=n(p,w,v);else{if(k.push(p.slice(x,w)),k.length===y)return k;for(var E=1;E<=j.length-1;E++)if(k.push(j[E]),k.length===y)return k;w=x=C}}return k.push(p.slice(x)),k}]}),!b)},"14c3":function(e,t,i){var l=i("c6b6"),a=i("9263");e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var s=i.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==l(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"40e2":function(e,t,i){},"52e0":function(e,t,i){"use strict";var l=i("40e2"),a=i.n(l);a.a},"8aa5":function(e,t,i){"use strict";var l=i("6547").charAt;e.exports=function(e,t,i){return t+(i?l(e,t).length:1)}},9263:function(e,t,i){"use strict";var l=i("ad6d"),a=i("9f7f"),s=RegExp.prototype.exec,o=String.prototype.replace,r=s,n=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=n||d||c;u&&(r=function(e){var t,i,a,r,u=this,p=c&&u.sticky,f=l.call(u),_=u.source,m=0,b=e;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),b=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(_="(?: "+_+")",b=" "+b,m++),i=new RegExp("^(?:"+_+")",f)),d&&(i=new RegExp("^"+_+"$(?!\\s)",f)),n&&(t=u.lastIndex),a=s.call(p?i:u,b),p?a?(a.input=a.input.slice(m),a[0]=a[0].slice(m),a.index=u.lastIndex,u.lastIndex+=a[0].length):u.lastIndex=0:n&&a&&(u.lastIndex=u.global?a.index+a[0].length:t),d&&a&&a.length>1&&o.call(a[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(a[r]=void 0)})),a}),e.exports=r},"9f7f":function(e,t,i){"use strict";var l=i("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=l((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=l((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a282:function(e,t,i){},ac1f:function(e,t,i){"use strict";var l=i("23e7"),a=i("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},d784:function(e,t,i){"use strict";i("ac1f");var l=i("6eeb"),a=i("d039"),s=i("b622"),o=i("9263"),r=i("9112"),n=s("species"),c=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=s("replace"),p=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),f=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));e.exports=function(e,t,i,u){var _=s(e),m=!a((function(){var t={};return t[_]=function(){return 7},7!=""[e](t)})),b=m&&!a((function(){var t=!1,i=/a/;return"split"===e&&(i={},i.constructor={},i.constructor[n]=function(){return i},i.flags="",i[_]=/./[_]),i.exec=function(){return t=!0,null},i[_](""),!t}));if(!m||!b||"replace"===e&&(!c||!d||p)||"split"===e&&!f){var v=/./[_],h=i(_,""[e],(function(e,t,i,l,a){return t.exec===o?m&&!a?{done:!0,value:v.call(t,i,l)}:{done:!0,value:e.call(i,t,l)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),g=h[0],y=h[1];l(String.prototype,e,g),l(RegExp.prototype,_,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}u&&r(RegExp.prototype[_],"sham",!0)}},e379:function(e,t,i){"use strict";var l=i("a282"),a=i.n(l);a.a},eb03:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-tabs",{attrs:{type:"border-card"}},[i("el-tab-pane",{attrs:{label:"模块设计",lazy:!0}},[i("mobilemodule")],1),i("el-tab-pane",{attrs:{label:"菜单设置",lazy:!0}},[i("mobilemenu")],1)],1)],1)},a=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container mobile-module"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:5}},[i("div",{staticClass:"preview_block"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("效果预览")])]),1==e.header.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/header/"+e.header.plan_id+".jpg"}}):e._e(),1==e.menu.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/menu/"+e.menu.plan_id+".jpg"}}):e._e(),1==e.section.is_display?i("div",{staticClass:"item-section"},e._l(e.section.plan_id,(function(e,t){return i("img",{key:t,staticClass:"preview_img_section",attrs:{src:"static/index_module/section/"+e+".jpg"}})})),0):e._e(),1==e.notice.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.notice.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/notice/"+e.notice.plan_id+".jpg"}}):e._e(),1==e.famous.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.famous.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/famous/"+e.famous.plan_id+".jpg"}}):e._e(),1==e.hotword.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.hotword.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/hotword/"+e.hotword.plan_id+".jpg"}}):e._e(),1==e.joblist.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.joblist.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/joblist/"+e.joblist.plan_id+".jpg"}}):e._e(),1==e.article.is_display?i("div",{staticClass:"divider-line"}):e._e(),1==e.article.is_display?i("img",{staticClass:"preview_img",attrs:{src:"static/index_module/article/1.jpg"}}):e._e()])],1)]),i("el-col",{attrs:{span:19}},[i("el-form",{ref:"form",attrs:{"label-width":"80px"}},[i("el-card",{staticStyle:{"max-height":"650px","overflow-y":"auto"},attrs:{shadow:"never"}},[i("div",{staticStyle:{padding:"20px"}},[i("div",{staticClass:"module_tit"},[e._v("头部")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.header.is_display,callback:function(t){e.$set(e.header,"is_display",t)},expression:"header.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.header.plan_id,callback:function(t){e.$set(e.header,"plan_id",t)},expression:"header.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 普通头部 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 带logo头部 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 纯色头部 ")]),i("el-radio",{attrs:{label:"4"}},[e._v(" 搜索边压 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("菜单栏")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.menu.is_display,callback:function(t){e.$set(e.menu,"is_display",t)},expression:"menu.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.menu.plan_id,callback:function(t){e.$set(e.menu,"plan_id",t)},expression:"menu.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 两行10图标1 ")]),i("el-radio",{attrs:{label:"4"}},[e._v(" 两行10图标2 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 单行5图标 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 单行4图标 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("版块")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.section.is_display,callback:function(t){e.$set(e.section,"is_display",t)},expression:"section.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择版块"}},[i("el-checkbox-group",{attrs:{max:2},on:{change:e.fun_change_section_selected},model:{value:e.section_list,callback:function(t){e.section_list=t},expression:"section_list"}},[i("el-checkbox",{attrs:{label:"online_jobfair"}},[e._v("网络招聘会")]),i("el-checkbox",{attrs:{label:"company"}},[e._v("知名企业")]),i("el-checkbox",{attrs:{label:"nearby"}},[e._v("附近职位")]),i("el-checkbox",{attrs:{label:"high_wage"}},[e._v("高薪职位")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("公告栏")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.notice.is_display,callback:function(t){e.$set(e.notice,"is_display",t)},expression:"notice.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.notice.plan_id,callback:function(t){e.$set(e.notice,"plan_id",t)},expression:"notice.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 单行滚动式 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 双行滚动式 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("名企栏")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.famous.is_display,callback:function(t){e.$set(e.famous,"is_display",t)},expression:"famous.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.famous.plan_id,callback:function(t){e.$set(e.famous,"plan_id",t)},expression:"famous.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 方块滚动式 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 横块滚动式 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 两行6个线式 ")]),i("el-radio",{attrs:{label:"4"}},[e._v(" 三行9个块式 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("热门职位")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.hotword.is_display,callback:function(t){e.$set(e.hotword,"is_display",t)},expression:"hotword.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.hotword.plan_id,callback:function(t){e.$set(e.hotword,"plan_id",t)},expression:"hotword.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 边框式 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 背景块式 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 纯字式 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("信息列表")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.joblist.is_display,callback:function(t){e.$set(e.joblist,"is_display",t)},expression:"joblist.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1),i("el-form-item",{attrs:{label:"选择布局"}},[i("el-radio-group",{model:{value:e.joblist.plan_id,callback:function(t){e.$set(e.joblist,"plan_id",t)},expression:"joblist.plan_id"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 精准推荐1 ")]),i("el-radio",{attrs:{label:"2"}},[e._v(" 精准推荐2 ")]),i("el-radio",{attrs:{label:"3"}},[e._v(" 职位块列表1 ")]),i("el-radio",{attrs:{label:"4"}},[e._v(" 综合列表 ")]),i("el-radio",{attrs:{label:"5"}},[e._v(" 职位块列表2 ")]),i("el-radio",{attrs:{label:"6"}},[e._v(" 职位分类 ")])],1)],1),i("el-divider"),i("div",{staticClass:"module_tit"},[e._v("新闻资讯")]),i("el-form-item",{attrs:{label:"显示状态"}},[i("el-radio-group",{model:{value:e.article.is_display,callback:function(t){e.$set(e.article,"is_display",t)},expression:"article.is_display"}},[i("el-radio",{attrs:{label:"1"}},[e._v(" 显示 ")]),i("el-radio",{attrs:{label:"0"}},[e._v(" 隐藏 ")])],1)],1)],1)]),i("el-form-item",{staticStyle:{"margin-top":"20px"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)],1)],1)},o=[],r=(i("ac1f"),i("1276"),i("5530")),n=i("1063"),c={data:function(){return{section_list:[],header:{},menu:{},section:{},notice:{},famous:{},hotword:{},joblist:{},article:{}}},created:function(){this.fetchInfo()},methods:{fun_change_section_selected:function(){this.section.plan_id=this.section_list},fetchInfo:function(){var e=this;Object(n["l"])({},"get").then((function(t){var i=Object(r["a"])({},t.data),l=i.header,a=i.menu,s=i.section,o=i.notice,n=i.famous,c=i.hotword,d=i.joblist,u=i.article;e.header=l,e.header.is_display=e.header.is_display+"",e.menu=a,e.menu.is_display=e.menu.is_display+"",e.section=s,e.section.is_display=e.section.is_display+"",e.section.plan_id=e.section.plan_id.split(","),e.section_list=e.section.plan_id,e.notice=o,e.notice.is_display=e.notice.is_display+"",e.famous=n,e.famous.is_display=e.famous.is_display+"",e.hotword=c,e.hotword.is_display=e.hotword.is_display+"",e.joblist=d,e.joblist.is_display=e.joblist.is_display+"",e.article=u,e.article.is_display=e.article.is_display+"",e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this,i=this,l={header:i.header,menu:i.menu,section:i.section,notice:i.notice,famous:i.famous,hotword:i.hotword,joblist:i.joblist,article:i.article};Object(n["l"])(l).then((function(e){return t.$message.success(e.message),!0})).catch((function(){}))}}},d=c,u=(i("52e0"),i("2877")),p=Object(u["a"])(d,s,o,!1,null,null,null),f=p.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"菜单名称",prop:"title"}}),i("el-table-column",{attrs:{label:"自定义名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.custom_title?i("span",[e._v(" "+e._s(t.row.custom_title)+" ")]):i("span",{staticClass:"font_info"},[e._v("系统默认")])]}}])}),i("el-table-column",{attrs:{label:"跳转url"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.link_url?i("span",[e._v(" "+e._s(t.row.link_url)+" ")]):i("span",{staticClass:"font_info"},[e._v("系统默认")])]}}])}),i("el-table-column",{attrs:{label:"图标"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.iconUrl?i("el-popover",{attrs:{placement:"right",width:"120",height:"120",trigger:"click"}},[i("img",{staticStyle:{width:"120px",height:"120px"},attrs:{src:t.row.iconUrl}}),i("span",{staticClass:"font_brand",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[e._v(" [点击查看] ")])]):i("span",{staticClass:"font_info"},[e._v("系统默认")])]}}])}),i("el-table-column",{attrs:{label:"排序",prop:"sort_id"}}),i("el-table-column",{attrs:{align:"center",label:"是否显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:e._f("colorFilter")(t.row.is_display)}},[e._v(" "+e._s(1==t.row.is_display?"显示":"隐藏")+" ")])]}}])}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){return e.funEdit(t.row)}}},[e._v(" 修改 ")])]}}])})],1),e.dialogFormVisible?i("el-dialog",{attrs:{title:"编辑菜单",visible:e.dialogFormVisible,width:"35%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[i("diaform",{attrs:{"item-info":e.itemInfo},on:{setDialogFormVisible:e.closeDialog,pageReload:e.fetchData}})],1):e._e()],1)},m=[],b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-form",{ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"150px",rules:e.rules,"inline-message":!0}},[i("el-form-item",{attrs:{label:"菜单名称"}},[i("el-input",{attrs:{value:e.itemInfo.title,disabled:""}})],1),i("el-form-item",{attrs:{label:"自定义名称",prop:"custom_title"}},[i("el-input",{attrs:{placeholder:"不填写则显示默认菜单名称"},model:{value:e.form.custom_title,callback:function(t){e.$set(e.form,"custom_title",t)},expression:"form.custom_title"}})],1),i("el-form-item",{attrs:{label:"自定义图标",prop:"icon"}},[i("el-upload",{staticClass:"icon-uploader",attrs:{action:e.apiUpload,headers:e.headers,"show-file-list":!1,"on-success":e.handleIconSuccess,"before-upload":e.beforeIconUpload}},[e.form.icon?i("img",{staticClass:"icon",attrs:{src:e.iconUrl}}):i("i",{staticClass:"el-icon-plus icon-uploader-icon"})]),""!=e.iconUrl?i("a",{staticClass:"font_brand",staticStyle:{cursor:"pointer"},attrs:{href:"javascript:;"},on:{click:e.delIcon}},[e._v(" [删除] ")]):e._e()],1),i("el-form-item",{attrs:{label:"跳转链接",prop:"link_url"}},[i("el-input",{attrs:{placeholder:"不填写则跳转默认页面"},model:{value:e.form.link_url,callback:function(t){e.$set(e.form,"link_url",t)},expression:"form.link_url"}})],1),i("el-form-item",{attrs:{label:"排序",prop:"sort_id"}},[i("el-input",{model:{value:e.form.sort_id,callback:function(t){e.$set(e.form,"sort_id",t)},expression:"form.sort_id"}})],1),i("el-form-item",{attrs:{label:"是否显示",prop:"is_display"}},[i("el-switch",{model:{value:e.form.is_display,callback:function(t){e.$set(e.form,"is_display",t)},expression:"form.is_display"}})],1),i("el-form-item",{attrs:{label:" "}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")]),i("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1)],1)],1)},v=[],h=(i("caad"),i("d3b7"),i("2532"),i("3ca3"),i("ddb0"),i("2b3d"),i("d722")),g=i("5f87"),y={props:["itemInfo"],data:function(){return{headers:{admintoken:Object(g["e"])()},fileupload_size:"",fileupload_ext:"",apiUpload:window.global.RequestBaseUrl+h["a"].upload,iconUrl:"",form:{id:0,custom_title:"",icon:0,link_url:"",sort_id:"",is_display:!0},rules:{}}},computed:{config:function(){return this.$store.state.config}},created:function(){this.fileupload_size=this.config.fileupload_size,this.fileupload_ext=this.config.fileupload_ext,this.fetchInfo()},methods:{fetchInfo:function(){null!==this.itemInfo&&(this.itemInfo.is_display=1==this.itemInfo.is_display,this.iconUrl=this.itemInfo.iconUrl,this.form=Object(r["a"])(Object(r["a"])({},this.form),this.itemInfo))},editSave:function(e,t){var i=this;this.$refs[t].validate((function(t){if(!t)return!1;e.is_display=!0===e.is_display?1:0,Object(n["f"])(e).then((function(e){return i.$message.success(e.message),i.closeDialog(),i.pageReload(),!0})).catch((function(){}))}))},onSubmit:function(e){var t=this,i=Object(r["a"])({},t.form);t.editSave(i,e)},closeDialog:function(){this.$emit("setDialogFormVisible")},pageReload:function(){this.$emit("pageReload")},delIcon:function(){this.iconUrl="",this.form.icon=0},handleIconSuccess:function(e,t){if(200!=e.code)return this.$message.error(e.message),!1;this.iconUrl=URL.createObjectURL(t.raw),this.form.icon=e.data.file_id},beforeIconUpload:function(e){var t=e.type.split("/"),i=t[1],l=this.fileupload_ext.split(",");return l.includes(i)?!(e.size/1024>this.fileupload_size)||(this.$message.error("上传文件最大为".concat(this.fileupload_size,"kb")),!1):(this.$message.error("上传文件格式不允许"),!1)}}},x=y,w=(i("e379"),Object(u["a"])(x,b,v,!1,null,"59b04cd6",null)),k=w.exports,C={filters:{colorFilter:function(e){return 1==e?"success":"danger"}},components:{diaform:k},data:function(){return{itemInfo:null,dialogFormVisible:!1,dialogListVisible:!1,list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(n["g"])({}).then((function(t){e.list=t.data.items,e.listLoading=!1}))},closeDialog:function(){this.dialogFormVisible=!1},funEdit:function(e){this.itemInfo=e,this.dialogFormVisible=!0}}},j=C,E=Object(u["a"])(j,_,m,!1,null,null,null),I=E.exports,$={components:{mobilemodule:f,mobilemenu:I}},S=$,R=Object(u["a"])(S,l,a,!1,null,null,null);t["default"]=R.exports}}]);