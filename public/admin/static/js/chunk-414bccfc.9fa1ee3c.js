(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-414bccfc"],{"18aa":function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return i}));var n=o("b775"),r=o("d722");function a(e){return Object(n["a"])({url:r["a"].pageMobileList,method:"get",params:e})}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return"post"==t?Object(n["a"])({url:r["a"].pageMobileEdit,method:t,data:e}):Object(n["a"])({url:r["a"].pageMobileEdit,method:t,params:e})}},1968:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("编辑页面")]),o("el-button",{staticStyle:{float:"right",padding:"0","margin-left":"14px"},attrs:{type:"text"},on:{click:function(t){return e.goto("/mobile/touch/page")}}},[e._v(" 返回 ")]),o("el-button",{staticStyle:{float:"right",padding:"0"},attrs:{type:"text"},on:{click:function(t){return e.onSubmit("form")}}},[e._v(" 保存 ")])],1),o("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.infoLoading,expression:"infoLoading"}],ref:"form",staticClass:"common-form",attrs:{model:e.form,"label-width":"80px","inline-message":!0}},[o("el-form-item",{attrs:{label:"页面名称",prop:"name"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"缓存时长",prop:"expire"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{type:"number",disabled:0==e.form.enable_cache},model:{value:e.form.expire,callback:function(t){e.$set(e.form,"expire",e._n(t))},expression:"form.expire"}},[o("template",{slot:"append"},[e._v("秒")])],2)],1),o("el-form-item",{attrs:{label:"seo标题",prop:"seo_title"}},[o("el-input",{attrs:{id:"seo_title"},model:{value:e.form.seo_title,callback:function(t){e.$set(e.form,"seo_title",t)},expression:"form.seo_title"}}),o("br"),e._l(e.form.params,(function(t,n){return o("el-tag",{key:n,attrs:{type:"info"},on:{click:function(o){return e.handlerTagToTitle(t.value)}}},[e._v(e._s(t.name))])}))],2),o("el-form-item",{attrs:{label:"seo关键词",prop:"seo_keywords"}},[o("el-input",{attrs:{id:"seo_keywords"},model:{value:e.form.seo_keywords,callback:function(t){e.$set(e.form,"seo_keywords",t)},expression:"form.seo_keywords"}}),o("br"),e._l(e.form.params,(function(t,n){return o("el-tag",{key:n,attrs:{type:"info"},on:{click:function(o){return e.handlerTagToKeywords(t.value)}}},[e._v(e._s(t.name))])}))],2),o("el-form-item",{attrs:{label:"seo描述",prop:"seo_description"}},[o("el-input",{attrs:{id:"seo_description",type:"textarea",rows:"4"},model:{value:e.form.seo_description,callback:function(t){e.$set(e.form,"seo_description",t)},expression:"form.seo_description"}}),o("br"),e._l(e.form.params,(function(t,n){return o("el-tag",{key:n,attrs:{type:"info"},on:{click:function(o){return e.handlerTagToDescription(t.value)}}},[e._v(e._s(t.name))])}))],2),o("el-form-item",{attrs:{label:""}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("保存")]),o("el-button",{on:{click:function(t){return e.goto("/mobile/touch/page")}}},[e._v("返回")])],1)],1)],1)],1)},r=[],a=(o("96cf"),o("1da1")),i=o("5530"),s=o("18aa"),l={data:function(){return{form:{id:"",expire:"",seo_title:"",seo_keywords:"",seo_description:""}}},created:function(){this.fetchInfo()},methods:{fetchInfo:function(){var e=this;this.infoLoading=!0,Object(s["a"])({id:this.$route.query.id},"get").then((function(t){e.form=Object(i["a"])({},t.data.info),e.infoLoading=!1})).catch((function(){}))},onSubmit:function(e){var t=this,o=this,n=Object(i["a"])({},this.form);Object(s["a"])(n).then((function(e){return t.$message.success(e.message),setTimeout((function(){o.$router.push("/mobile/touch/page")}),1500),!0})).catch((function(){}))},goto:function(e){this.$router.push(e)},insertVariable:function(e,t){var o=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=document.querySelector("#"+e),!r.selectionStart&&0!==r.selectionStart){n.next=11;break}return a=r.selectionStart,i=r.selectionEnd,o.form[e]=r.value.substring(0,a)+t+r.value.substring(i,r.value.length),n.next=7,o.$nextTick();case 7:r.focus(),r.setSelectionRange(i+t.length,i+t.length),n.next=12;break;case 11:o.form[e]=t;case 12:case"end":return n.stop()}}),n)})))()},handlerTagToTitle:function(e){e="{"+e+"}",this.insertVariable("seo_title",e)},handlerTagToKeywords:function(e){e="{"+e+"}",this.insertVariable("seo_keywords",e)},handlerTagToDescription:function(e){e="{"+e+"}",this.insertVariable("seo_description",e)}}},c=l,u=(o("e5fd"),o("2877")),f=Object(u["a"])(c,n,r,!1,null,"26165a1e",null);t["default"]=f.exports},c840:function(e,t,o){},e5fd:function(e,t,o){"use strict";var n=o("c840"),r=o.n(n);r.a}}]);